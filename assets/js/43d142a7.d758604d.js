"use strict";(self.webpackChunkopenmetal_docs=self.webpackChunkopenmetal_docs||[]).push([[6860],{3905:(e,t,n)=>{n.d(t,{Zo:()=>p,kt:()=>m});var a=n(67294);function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t){if(null==e)return{};var n,a,l=function(e,t){if(null==e)return{};var n,a,l={},s=Object.keys(e);for(a=0;a<s.length;a++)n=s[a],t.indexOf(n)>=0||(l[n]=e[n]);return l}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(l[n]=e[n])}return l}var i=a.createContext({}),u=function(e){var t=a.useContext(i),n=t;return e&&(n="function"==typeof e?e(t):r(r({},t),e)),n},p=function(e){var t=u(e.components);return a.createElement(i.Provider,{value:t},e.children)},c="mdxType",d={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},k=a.forwardRef((function(e,t){var n=e.components,l=e.mdxType,s=e.originalType,i=e.parentName,p=o(e,["components","mdxType","originalType","parentName"]),c=u(n),k=l,m=c["".concat(i,".").concat(k)]||c[k]||d[k]||s;return n?a.createElement(m,r(r({ref:t},p),{},{components:n})):a.createElement(m,r({ref:t},p))}));function m(e,t){var n=arguments,l=t&&t.mdxType;if("string"==typeof e||l){var s=n.length,r=new Array(s);r[0]=k;var o={};for(var i in t)hasOwnProperty.call(t,i)&&(o[i]=t[i]);o.originalType=e,o[c]="string"==typeof e?e:l,r[1]=o;for(var u=2;u<s;u++)r[u]=n[u];return a.createElement.apply(null,r)}return a.createElement.apply(null,n)}k.displayName="MDXCreateElement"},65966:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>i,contentTitle:()=>r,default:()=>c,frontMatter:()=>s,metadata:()=>o,toc:()=>u});var a=n(87462),l=(n(67294),n(3905));const s={sidebar_position:4,slug:"/kubernetes-guides/installing-a-kops-cluster-on-openstack",description:"This guide will walk you through the process of installing a Kubernetes cluster on OpenStack using kops."},r="Installing a kOps cluster on OpenStack",o={unversionedId:"kubernetes-guides/deployment/kops",id:"kubernetes-guides/deployment/kops",title:"Installing a kOps cluster on OpenStack",description:"This guide will walk you through the process of installing a Kubernetes cluster on OpenStack using kops.",source:"@site/docs/kubernetes-guides/deployment/kops.md",sourceDirName:"kubernetes-guides/deployment",slug:"/kubernetes-guides/installing-a-kops-cluster-on-openstack",permalink:"/docs/manuals/kubernetes-guides/installing-a-kops-cluster-on-openstack",draft:!1,editUrl:"https://github.com/openmetalio/openmetal-docs/blob/main/docs/kubernetes-guides/deployment/kops.md",tags:[],version:"current",sidebarPosition:4,frontMatter:{sidebar_position:4,slug:"/kubernetes-guides/installing-a-kops-cluster-on-openstack",description:"This guide will walk you through the process of installing a Kubernetes cluster on OpenStack using kops."},sidebar:"tutorialSidebar",previous:{title:"Deploying a Kubespray cluster to OpenStack using Terraform",permalink:"/docs/manuals/kubernetes-guides/deploying-a-kubespray-cluster-to-openstack-using-terraform"},next:{title:"Magnum and Kubernetes",permalink:"/docs/manuals/tutorials/magnum-and-kubernetes"}},i={},u=[{value:"Objectives",id:"objectives",level:2},{value:"Prerequisites",id:"prerequisites",level:2},{value:"Prepare OpenStack",id:"prepare-openstack",level:2},{value:"Setup CLI tools",id:"setup-cli-tools",level:3},{value:"Create a project",id:"create-a-project",level:3},{value:"Update project name",id:"update-project-name",level:3},{value:"Create Swift object store",id:"create-swift-object-store",level:3},{value:"Create application credentials",id:"create-application-credentials",level:3},{value:"Create Credentials file",id:"create-credentials-file",level:3},{value:"Source in the credentials",id:"source-in-the-credentials",level:3},{value:"Deploy the Kubernetes cluster",id:"deploy-the-kubernetes-cluster",level:2},{value:"Install kOps CLI",id:"install-kops-cli",level:3},{value:"Generate SSH key",id:"generate-ssh-key",level:3},{value:"Set state store",id:"set-state-store",level:3},{value:"Install Kubectl",id:"install-kubectl",level:3},{value:"Create cluster configuration",id:"create-cluster-configuration",level:3},{value:"Update cluster configuration",id:"update-cluster-configuration",level:3},{value:"Deploy configuration",id:"deploy-configuration",level:3},{value:"Validate Cluster",id:"validate-cluster",level:3},{value:"Test your cluster",id:"test-your-cluster",level:2},{value:"Get all pods",id:"get-all-pods",level:3},{value:"Verify OpenStack cloud provider services",id:"verify-openstack-cloud-provider-services",level:3},{value:"Troubleshooting",id:"troubleshooting",level:2}],p={toc:u};function c(e){let{components:t,...n}=e;return(0,l.kt)("wrapper",(0,a.Z)({},p,n,{components:t,mdxType:"MDXLayout"}),(0,l.kt)("h1",{id:"installing-a-kops-cluster-on-openstack"},"Installing a kOps cluster on OpenStack"),(0,l.kt)("p",null,"This guide will walk you through the process of installing a Kubernetes cluster\non OpenStack using ",(0,l.kt)("a",{parentName:"p",href:"https://kops.sigs.k8s.io/"},"kOps - Kubernetes Operations"),".\nkOps is a command line tool, written in Go, and maintained by the Kubernetes\ncommunity allowing you to install Kubernetes clusters on a variety of cloud\nproviders.  kOps is a great option for those who want to install\nKubernetes clusters on OpenStack. It provides a lot of flexibility and allows\nyou to install a Kubernetes cluster that is highly available and secure."),(0,l.kt)("p",null,"At the time of writing this guide, October 2022, kOps for OpenStack is still\nin beta. According to kOps, it is in good shape for production, but some\nfeatures are still missing."),(0,l.kt)("h2",{id:"objectives"},"Objectives"),(0,l.kt)("p",null,"Our plan is to validate the installation of a v1.25.1 Kubernetes cluster on\nOpenStack using kOps. We'll be configuring it to use the OpenStack cloud provider\nwith Cinder as the storage provider with the OpenStack load balancer providing\ningress to the cluster."),(0,l.kt)("p",null,"This guide follows the official ",(0,l.kt)("a",{parentName:"p",href:"https://kops.sigs.k8s.io/getting_started/openstack/"},"kOps OpenStack guide"),".\nPlease refer to it for more details. We'll be running these steps from one of\nour OpenMetal servers deployed with each new OpenStack instance. They can also\nbe run from a VM or a local machine."),(0,l.kt)("h2",{id:"prerequisites"},"Prerequisites"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"An OpenStack cloud with the following services enabled:",(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},"Keystone"),(0,l.kt)("li",{parentName:"ul"},"Nova"),(0,l.kt)("li",{parentName:"ul"},"Neutron"),(0,l.kt)("li",{parentName:"ul"},"Cinder"),(0,l.kt)("li",{parentName:"ul"},"Octavia")))),(0,l.kt)("p",null,"If you don't have an OpenStack cloud, you can deploy a free trial using\n",(0,l.kt)("a",{parentName:"p",href:"https://central.openmetal.io"},"OpenMetal Central"),"."),(0,l.kt)("h2",{id:"prepare-openstack"},"Prepare OpenStack"),(0,l.kt)("h3",{id:"setup-cli-tools"},"Setup CLI tools"),(0,l.kt)("p",null,"We'll be using the OpenStack CLI tools to interact with the OpenStack cloud. If you\ndon't have them installed, complete the following steps\nto ",(0,l.kt)("a",{parentName:"p",href:"/docs/manuals/operators-manual/day-1/command-line/openstackclient"},"install the OpenStack CLI"),"."),(0,l.kt)("h3",{id:"create-a-project"},"Create a project"),(0,l.kt)("p",null,"Let's create a project for our cluster. Creating a project will allow us to\nseparate our cluster resources from other resources in the cloud. It will also\nhelp us clean up our cluster resources when we're done with them."),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},'openstack project create --domain default --description "kOps Cluster" kops\n')),(0,l.kt)("p",null,"We'll add a user to the project. We're adding the admin user to the project, but\nif you've already created an OpenStack user, you should use that user instead."),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"openstack role add --project kops --user admin admin\n")),(0,l.kt)("h3",{id:"update-project-name"},"Update project name"),(0,l.kt)("p",null,"Replace ",(0,l.kt)("inlineCode",{parentName:"p"},"<project_id>")," with the ID of the project you created in the previous\nstep."),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"export OS_PROJECT_ID=<project_id>\nexport OS_PROJECT_NAME=kops\n")),(0,l.kt)("h3",{id:"create-swift-object-store"},"Create Swift object store"),(0,l.kt)("p",null,"This object store will be used to store your cluster configuration file."),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"openstack container create kops\n")),(0,l.kt)("h3",{id:"create-application-credentials"},"Create application credentials"),(0,l.kt)("p",null,"The credentials are saved as a secret in the cluster and used by kOps to interact\nwith the OpenStack cloud. Your personal credentials could also be used, but use\nof application credentials is recommended."),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},'openstack application credential create --description "kOps" kops\n')),(0,l.kt)("h3",{id:"create-credentials-file"},"Create Credentials file"),(0,l.kt)("p",null,"Create a file named ",(0,l.kt)("inlineCode",{parentName:"p"},"app-creds.sh")),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"Replace ",(0,l.kt)("inlineCode",{parentName:"li"},"<ip-address>")," with the IP address of your OpenStack cloud. If you dont\nknow the URL to your Keystone service, you can find it in the OpenStack dashboard\nor by running ",(0,l.kt)("inlineCode",{parentName:"li"},"openstack endpoint list"),"."),(0,l.kt)("li",{parentName:"ul"},"Replace ",(0,l.kt)("inlineCode",{parentName:"li"},"<secret-id>")," with the id from the previous step."),(0,l.kt)("li",{parentName:"ul"},"Replace ",(0,l.kt)("inlineCode",{parentName:"li"},"<secret>")," with the secret from the previous step.")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},'export OS_AUTH_TYPE=v3applicationcredential\nexport OS_AUTH_URL=http://<ip-address>:5000\nexport OS_IDENTITY_API_VERSION=3\nexport OS_REGION_NAME="iad3"\nexport OS_INTERFACE=public\nexport OS_APPLICATION_CREDENTIAL_ID=<secret-id>\nexport OS_APPLICATION_CREDENTIAL_SECRET=<secret>\n')),(0,l.kt)("h3",{id:"source-in-the-credentials"},"Source in the credentials"),(0,l.kt)("p",null,"Next, we'll source in the credentials file. If you're using the same shell that\nyou used for the CLI, you'll need to log out and back in before sourcing the\ncredentials, as some environment variables set when using your personal credentials\ncan conflict with those for the application credentials."),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"exit\n")),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},"Note: If you wish to retain your current shell the following command will\nextract all OpenStack related variables from the environment with ",(0,l.kt)("inlineCode",{parentName:"p"},"env")," and\nunset them:"),(0,l.kt)("pre",{parentName:"blockquote"},(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"unset $(env | awk -F'=' '/OS_/ {print $1}' | tr \"\\n\" \" \")\n"))),(0,l.kt)("p",null,"Log back in."),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"source app-creds.sh\n")),(0,l.kt)("h2",{id:"deploy-the-kubernetes-cluster"},"Deploy the Kubernetes cluster"),(0,l.kt)("h3",{id:"install-kops-cli"},"Install kOps CLI"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"curl -Lo kops https://github.com/kubernetes/kops/releases/download/v1.25.1/kops-linux-amd64\n")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"chmod +x kops\n")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"sudo mv kops /usr/local/bin/kops\n")),(0,l.kt)("h3",{id:"generate-ssh-key"},"Generate SSH key"),(0,l.kt)("p",null,"This key will be used to access the Kubernetes nodes."),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"ssh-keygen -t ed25519 -N '' -f ~/.ssh/id_kops\n")),(0,l.kt)("h3",{id:"set-state-store"},"Set state store"),(0,l.kt)("p",null,"KOps will store the cluster configuration file in a Swift object store. Use the\none you created earlier as the state store."),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"export KOPS_STATE_STORE=swift://kops\n")),(0,l.kt)("h3",{id:"install-kubectl"},"Install Kubectl"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"curl -LO https://storage.googleapis.com/kubernetes-release/release/v1.25.1/bin/linux/amd64/kubectl\n")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"sudo install -o root -g root -m 0755 kubectl /usr/local/bin/kubectl\n")),(0,l.kt)("h3",{id:"create-cluster-configuration"},"Create cluster configuration"),(0,l.kt)("p",null,"The following command will create a cluster configuration file. It will be stored\nin the Swift object store we created in a previous step. You may need to pull\nsome information from your OpenStack cloud."),(0,l.kt)("p",null,"OpenStack Values of note:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"--image"),": Operating system image",(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},"Found by running ",(0,l.kt)("inlineCode",{parentName:"li"},"openstack image list")),(0,l.kt)("li",{parentName:"ul"},"Supported operating systems: ",(0,l.kt)("a",{parentName:"li",href:"https://github.com/kubernetes/kops/blob/v1.25.1/docs/operations/images.md"},"kOps supported operating systems"),"."))),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"--node-size"),": Instance flavor",(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},"Found by running ",(0,l.kt)("inlineCode",{parentName:"li"},"openstack flavor list"),"."),(0,l.kt)("li",{parentName:"ul"},"Custom flavors can also be created in the OpenStack dashboard."))),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"--zones"),": Availability zone",(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},"Found by running ",(0,l.kt)("inlineCode",{parentName:"li"},"openstack availability zone list"),"."))),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"--os-ext-net"),": External network",(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},"Found by running ",(0,l.kt)("inlineCode",{parentName:"li"},"openstack network list --external"),".")))),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},'$ kops create cluster \\\n  --cloud openstack \\\n  --name my-cluster.k8s.local \\\n  --state ${KOPS_STATE_STORE} \\\n  --zones nova \\\n  --network-cidr 10.1.0.0/24 \\\n  --image "Ubuntu 20.04 (focal-amd64)" \\\n  --master-count=1 \\\n  --node-count=2 \\\n  --os-octavia=true \\\n  --node-size m1.medium \\\n  --master-size m1.medium \\\n  --etcd-storage-type __DEFAULT__ \\\n  --api-loadbalancer-type public \\\n  --topology private \\\n  --ssh-public-key ~/.ssh/id_kops.pub \\\n  --networking flannel \\\n  --os-ext-net External\n\n---Output truncated---\n\nMust specify --yes to apply changes\n\nCluster configuration has been created.\n\nSuggestions:\n * list clusters with: kops get cluster\n * edit this cluster with: kops edit cluster my-cluster.k8s.local\n * edit your node instance group: kops edit ig --name=my-cluster.k8s.local nodes-nova\n * edit your master instance group: kops edit ig --name=my-cluster.k8s.local master-nova-1\n\nFinally configure your cluster with: kops update cluster --name my-cluster.k8s.local --yes --admin\n')),(0,l.kt)("h3",{id:"update-cluster-configuration"},"Update cluster configuration"),(0,l.kt)("p",null,"Now that we have a cluster configuration file, we can provide additional\nconfiguration options."),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},"For an extensive list of options on the Cluster resource see: ",(0,l.kt)("a",{parentName:"p",href:"https://kops.sigs.k8s.io/cluster_spec/"},"Cluster Spec"),".")),(0,l.kt)("p",null,"For our example, we'll override a setting that will otherwise cause the nodes\nto fail setup. This is a known issue with Ubuntu images and kubeadm."),(0,l.kt)("p",null,"For more information see:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"https://github.com/kubernetes/kubeadm/issues/610"},"ERROR Swap: running with swap on is not supported. Please disable swap"),"\nor"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"https://github.com/kubernetes/enhancements/issues/2400"},"Node swap support"),".")),(0,l.kt)("p",null,"We'll suppress the error by setting ",(0,l.kt)("inlineCode",{parentName:"p"},"kubelet.failSwapOn")," to ",(0,l.kt)("inlineCode",{parentName:"p"},"false"),". For\nproduction use cases we recommend disabling swap."),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"kops edit cluster my-cluster.k8s.local\n")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-yaml"},"  kubelet:\n    failSwapOn: false\n")),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},(0,l.kt)("strong",{parentName:"p"},"Note"),": You should already have a kubelet section.")),(0,l.kt)("h3",{id:"deploy-configuration"},"Deploy configuration"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"}," kops update cluster --name my-cluster.k8s.local --yes --admin\n")),(0,l.kt)("h3",{id:"validate-cluster"},"Validate Cluster"),(0,l.kt)("p",null,"Our small 3-node cluster took about 8 minutes to deploy. If your deployment\nis larger, it will take longer. Run the following command to watch the deployment\nstatus."),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},'$ kops validate cluster --wait 10m\n\n---Output truncated---\n\nPod     kube-system/csi-cinder-controllerplugin-84b9c4955-dmjqv system-cluster-critical pod "csi-cinder-controllerplugin-84b9c4955-dmjqv" is pending\n\nValidation Failed\nW1010 22:13:19.203438 2645280 validate_cluster.go:232] (will retry): cluster not yet healthy\nINSTANCE GROUPS\nNAME            ROLE    MACHINETYPE     MIN     MAX     SUBNETS\nmaster-nova     Master  m1.medium       1       1       nova\nnodes-nova      Node    m1.medium       2       2       nova\n\nNODE STATUS\nNAME                    ROLE    READY\nmaster-nova-d2gurm      master  True\nnodes-nova-7oi4el       node    True\nnodes-nova-ncdj6g       node    True\n\nVALIDATION ERRORS\nKIND    NAME                                    MESSAGE\nPod     kube-system/coredns-77bcddd996-jflxd    system-cluster-critical pod "coredns-77bcddd996-jflxd" is pending\n\nValidation Failed\nW1010 22:13:30.376327 2645280 validate_cluster.go:232] (will retry): cluster not yet healthy\nINSTANCE GROUPS\nNAME            ROLE    MACHINETYPE     MIN     MAX     SUBNETS\nmaster-nova     Master  m1.medium       1       1       nova\nnodes-nova      Node    m1.medium       2       2       nova\n\nNODE STATUS\nNAME                    ROLE    READY\nmaster-nova-d2gurm      master  True\nnodes-nova-7oi4el       node    True\nnodes-nova-ncdj6g       node    True\n\nYour cluster my-cluster.k8s.local is ready\n')),(0,l.kt)("h2",{id:"test-your-cluster"},"Test your cluster"),(0,l.kt)("h3",{id:"get-all-pods"},"Get all pods"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"kubectl get pods --all-namespaces\n")),(0,l.kt)("p",null,"Output"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"[root@comfortable-lamprey kops]# kubectl get pods -A\nNAMESPACE      NAME                                          READY   STATUS    RESTARTS        AGE\nkube-flannel   kube-flannel-ds-7tkwv                         1/1     Running   0               4m\nkube-flannel   kube-flannel-ds-95qmb                         1/1     Running   1 (2m9s ago)    3m2s\nkube-flannel   kube-flannel-ds-k4vcs                         1/1     Running   0               3m4s\nkube-system    coredns-77bcddd996-978n5                      1/1     Running   0               3m59s\nkube-system    coredns-77bcddd996-jflxd                      1/1     Running   0               2m19s\nkube-system    coredns-autoscaler-975545559-rl2zl            1/1     Running   0               3m59s\nkube-system    csi-cinder-controllerplugin-84b9c4955-dmjqv   5/5     Running   0               3m59s\nkube-system    csi-cinder-nodeplugin-b24tf                   3/3     Running   0               3m2s\nkube-system    csi-cinder-nodeplugin-pbncg                   3/3     Running   0               3m59s\nkube-system    csi-cinder-nodeplugin-pmzb2                   3/3     Running   0               3m4s\nkube-system    dns-controller-6c8954774c-n287p               1/1     Running   0               3m59s\nkube-system    etcd-manager-events-master-nova-d2gurm        1/1     Running   0               3m38s\nkube-system    etcd-manager-main-master-nova-d2gurm          1/1     Running   0               2m54s\nkube-system    kops-controller-ltf7f                         1/1     Running   0               4m\nkube-system    kube-apiserver-master-nova-d2gurm             2/2     Running   2 (5m ago)      3m15s\nkube-system    kube-controller-manager-master-nova-d2gurm    1/1     Running   4 (4m59s ago)   4m12s\nkube-system    kube-proxy-master-nova-d2gurm                 1/1     Running   0               3m25s\nkube-system    kube-proxy-nodes-nova-7oi4el                  1/1     Running   0               90s\nkube-system    kube-proxy-nodes-nova-ncdj6g                  1/1     Running   0               2m16s\nkube-system    kube-scheduler-master-nova-d2gurm             1/1     Running   0               3m40s\nkube-system    openstack-cloud-provider-hlhzx                1/1     Running   0               3m59s\n")),(0,l.kt)("h3",{id:"verify-openstack-cloud-provider-services"},"Verify OpenStack cloud provider services"),(0,l.kt)("p",null,"Our installation allows you to provision volumes and load balancers. If you want\nto validate the installation check out our other guides."),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"/docs/manuals/kubernetes-guides/installing-the-kubernetes-openstack-cloud-controller-manager#verify"},"Validate Load Balancer (Octavia)")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"/docs/manuals/kubernetes-guides/configuring-openstack-cinder-with-kubernetes#verify"},"Validate Storage Class (Cinder)"))),(0,l.kt)("h2",{id:"troubleshooting"},"Troubleshooting"),(0,l.kt)("p",null,"The kOps documentation provides helpful troubleshooting steps for common issues:\n",(0,l.kt)("a",{parentName:"p",href:"https://kops.sigs.k8s.io/operations/troubleshoot/"},"Troubleshooting kOps clusters"),"."),(0,l.kt)("p",null,"If you need to start over you can delete your cluster with the following command:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"kops delete cluster --name my-cluster.k8s.local --yes\n")))}c.isMDXComponent=!0}}]);