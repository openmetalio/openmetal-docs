"use strict";(self.webpackChunkopenmetal_docs=self.webpackChunkopenmetal_docs||[]).push([[7537],{3905:(e,t,a)=>{a.d(t,{Zo:()=>d,kt:()=>f});var r=a(67294);function n(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function o(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function i(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?o(Object(a),!0).forEach((function(t){n(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function s(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a,r,n={},o=Object.keys(e);for(r=0;r<o.length;r++)a=o[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)a=o[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}var l=r.createContext({}),c=function(e){var t=r.useContext(l),a=t;return e&&(a="function"==typeof e?e(t):i(i({},t),e)),a},d=function(e){var t=c(e.components);return r.createElement(l.Provider,{value:t},e.children)},u="mdxType",p={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},h=r.forwardRef((function(e,t){var a=e.components,n=e.mdxType,o=e.originalType,l=e.parentName,d=s(e,["components","mdxType","originalType","parentName"]),u=c(a),h=n,f=u["".concat(l,".").concat(h)]||u[h]||p[h]||o;return a?r.createElement(f,i(i({ref:t},d),{},{components:a})):r.createElement(f,i({ref:t},d))}));function f(e,t){var a=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var o=a.length,i=new Array(o);i[0]=h;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s[u]="string"==typeof e?e:n,i[1]=s;for(var c=2;c<o;c++)i[c]=a[c];return r.createElement.apply(null,i)}return r.createElement.apply(null,a)}h.displayName="MDXCreateElement"},60620:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>l,contentTitle:()=>i,default:()=>u,frontMatter:()=>o,metadata:()=>s,toc:()=>c});var r=a(87462),n=(a(67294),a(3905));const o={sidebar_position:6},i="OpenStack Disaster Planning, Testing, and Recovery",s={unversionedId:"operators-manual/day-3/disaster-recovery",id:"operators-manual/day-3/disaster-recovery",title:"OpenStack Disaster Planning, Testing, and Recovery",description:"Introduction",source:"@site/docs/operators-manual/day-3/disaster-recovery.md",sourceDirName:"operators-manual/day-3",slug:"/operators-manual/day-3/disaster-recovery",permalink:"/docs/manuals/operators-manual/day-3/disaster-recovery",draft:!1,editUrl:"https://github.com/openmetalio/openmetal-docs/blob/main/docs/operators-manual/day-3/disaster-recovery.md",tags:[],version:"current",sidebarPosition:6,frontMatter:{sidebar_position:6},sidebar:"tutorialSidebar",previous:{title:"Backup and Restore OpenStack Service Databases",permalink:"/docs/manuals/operators-manual/day-3/backup-restore-openstack-databases"},next:{title:"How to Prepare and Use Kolla Ansible",permalink:"/docs/manuals/operators-manual/day-4/kolla-ansible/prepare-kolla-ansible"}},l={},c=[{value:"Introduction",id:"introduction",level:2},{value:"Disaster Recovery Strategies",id:"disaster-recovery-strategies",level:2},{value:"Recovery Objectives",id:"recovery-objectives",level:3},{value:"Off-site Backups",id:"off-site-backups",level:3},{value:"RBD Mirroring with Ceph",id:"rbd-mirroring-with-ceph",level:3},{value:"Handling a Hardware Failure",id:"handling-a-hardware-failure",level:2},{value:"Determine Hardware Node Failure",id:"determine-hardware-node-failure",level:3},{value:"Cluster Failure",id:"cluster-failure",level:3},{value:"Cloud Monitoring with Datadog",id:"cloud-monitoring-with-datadog",level:2},{value:"Contact Support",id:"contact-support",level:2},{value:"Additional Reading",id:"additional-reading",level:2}],d={toc:c};function u(e){let{components:t,...o}=e;return(0,n.kt)("wrapper",(0,r.Z)({},d,o,{components:t,mdxType:"MDXLayout"}),(0,n.kt)("h1",{id:"openstack-disaster-planning-testing-and-recovery"},"OpenStack Disaster Planning, Testing, and Recovery"),(0,n.kt)("h2",{id:"introduction"},"Introduction"),(0,n.kt)("p",null,"While OpenStack is a resilient platform in High Availability (HA)\ndeployments, disasters that cause a hardware node or an entire cloud to\nfail may still occur. Due to the potential for unexpected events to\ncause your business or operations to fail, we suggest planning for\ndisaster events. In this guide, we emphasize the importance of planning\nfor disasters and outline strategies to consider when creating your\ndisaster recovery plan."),(0,n.kt)("h2",{id:"disaster-recovery-strategies"},"Disaster Recovery Strategies"),(0,n.kt)("p",null,"Disaster recovery varies greatly depending on the needs of your\norganization. Your disaster recovery plan should involve analyzing your\ncompany's most valuable data. This audit should include an inventory of\ndocuments, databases, and systems that are deeply involved in the\nrevenue-generating aspects of your business. As an infrastructure\nprovider, we also have the responsibility to maintain the integrity of\nour facilities to the best standards and practices to safeguard your\ndata. In addition to our responsibilities, you should take the\nadditional steps necessary to protect the integrity of your data against\npotential impacts on your private cloud."),(0,n.kt)("h3",{id:"recovery-objectives"},"Recovery Objectives"),(0,n.kt)("p",null,"The objectives behind a disaster recovery plan fall into two categories:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("strong",{parentName:"li"},"Recovery Point Objectives"),": This is a specific point in time\nthat data must be backed up to resume business."),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("strong",{parentName:"li"},"Recovery Time Objectives"),": Length of time that a system can be\noffline before the business is negatively impacted.")),(0,n.kt)("p",null,"Consider the above objectives when determining the needs of your\ndisaster recovery strategies. In recovery point objectives, determining\nthe frequency of your backups is critical to your disaster strategy.\nRecovery time objectives are based on the amount of lost revenue per\nunit of lost time. This means that every hour or minute that certain\nsystems are offline can greatly impact a business."),(0,n.kt)("h3",{id:"off-site-backups"},"Off-site Backups"),(0,n.kt)("p",null,"To have an effective disaster recovery plan, we stress the use of an\noff-site backup solution. Off-site backups are a critical component to\npreventing catastrophic loss of data and limiting the blast radius of an\noutage. Although some services in OpenMetal are highly available, high\navailability does not protect against unforeseen natural disasters. In\nthe event of a hurricane, flood, or other unforeseen circumstance, it\ncould be possible that you must recover data from a different\ngeographical location. It is highly recommended that off-site backups\nare used for the most mission-critical data."),(0,n.kt)("h3",{id:"rbd-mirroring-with-ceph"},"RBD Mirroring with Ceph"),(0,n.kt)("p",null,"Private Clouds by default use Ceph as a shared storage backend. As part\nof your disaster recovery plan, consider using Ceph's ",(0,n.kt)("a",{parentName:"p",href:"https://docs.ceph.com/en/latest/rbd/rbd-mirroring/"},"RBD mirroring"),"\nfeature to mirror important data to another Ceph cluster, in a geographically\ndifferent data center location. ",(0,n.kt)("strong",{parentName:"p"},"Note")," that we currently only provide\none data center in which to host your Private Cloud."),(0,n.kt)("h2",{id:"handling-a-hardware-failure"},"Handling a Hardware Failure"),(0,n.kt)("p",null,"Great care is taken to monitor and maintain our infrastructure. However,\nin the event of hardware failure, it might be necessary to diagnose\nthese issues. If you believe you are experiencing hardware failure,\ncontact our support. Two possible hardware-related issues are failure of\na hardware node and failure of an entire cloud. The following sections\noutline how to diagnose hardware failure."),(0,n.kt)("h3",{id:"determine-hardware-node-failure"},"Determine Hardware Node Failure"),(0,n.kt)("p",null,"To quickly get the status of your cloud's control plane nodes, check the\nrunning system services in Horizon. To do so, log in as an administrator\nto Horizon and navigate to ",(0,n.kt)("strong",{parentName:"p"},"Admin -",">"," System -",">"," System Information"),".\nOn this page are tabs separating all OpenStack services, including the\nAPIs, Compute, Block Storage, and Network Agents. A service's state is\nindicated by the ",(0,n.kt)("strong",{parentName:"p"},"State"),' column. If a service is up, the value is\nreflected as "Up". If a service is down, the value is reported as\n"Down". Click through each tab to see each service\'s status. A good\nindicator that a control plane node is down is if you see "Down" under\nthe ',(0,n.kt)("strong",{parentName:"p"},"State")," column for all services of a particular node."),(0,n.kt)("p",null,(0,n.kt)("img",{alt:"image",src:a(73161).Z,width:"1273",height:"650"})),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"Figure 1:")," OpenStack System Information"),(0,n.kt)("h3",{id:"cluster-failure"},"Cluster Failure"),(0,n.kt)("p",null,"If your entire Private Cloud has failed, the signs will be readily\napparent. If you are using monitoring software such as Datadog or\nNagios, you will be alerted to your nodes being offline. In addition to\nbeing alerted, you will be unable to access your assets."),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"Note:")," In some instances, it is also possible to see a failure of\nyour nodes within OpenMetal central. To view the status of these nodes,\ngo to the assets page of OpenMetal central, and under the hardware\nsection, there is a green indicator icon reflecting the current status\nof your nodes. If the icon is yellow or red, then the issue is likely\nhardware-related."),(0,n.kt)("p",null,(0,n.kt)("img",{alt:"image",src:a(49681).Z,width:"1217",height:"654"})),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"Figure 2:")," Assets Page of OpenMetal Central"),(0,n.kt)("h2",{id:"cloud-monitoring-with-datadog"},"Cloud Monitoring with Datadog"),(0,n.kt)("p",null,"Datadog is an optional cloud monitoring service we provide for OpenMetal\nPrivate Clouds. Should you want to add this feature to your cloud,\ncontact your Account Manager or submit a support ticket in OpenMetal\nCentral."),(0,n.kt)("h2",{id:"contact-support"},"Contact Support"),(0,n.kt)("p",null,"If you are experiencing hardware failure or any other issues with your\nOpen Metal Private Cloud, ",(0,n.kt)("a",{parentName:"p",href:"https://central.openmetal.io/"},"Contact Support"),"."),(0,n.kt)("h2",{id:"additional-reading"},"Additional Reading"),(0,n.kt)("p",null,"For more regarding OpenStack Disaster Recovery, see:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"RedHat's ",(0,n.kt)("a",{parentName:"li",href:"https://www.redhat.com/en/blog/disaster-recovery-enablement-openstack"},"Disaster Recovery Enablement in OpenStack")),(0,n.kt)("li",{parentName:"ul"},"InMotion Hosting's ",(0,n.kt)("a",{parentName:"li",href:"https://www.inmotionhosting.com/support/product-guides/private-cloud/what-is-disaster-recovery-as-a-service-draas/"},"What is Disaster Recovery as a Service (DRaaS)?")),(0,n.kt)("li",{parentName:"ul"},"OpenStack's ",(0,n.kt)("a",{parentName:"li",href:"https://wiki.openstack.org/wiki/DisasterRecovery"},"Disaster Recovery Wiki Page"))))}u.isMDXComponent=!0},49681:(e,t,a)=>{a.d(t,{Z:()=>r});const r=a.p+"assets/images/assetspage_disasterrecovery-f8ebe756e9587b64a22258ec478750ed.png"},73161:(e,t,a)=>{a.d(t,{Z:()=>r});const r=a.p+"assets/images/disaster_recovery_system_info-6d529e345b2de8de8e473798a6b35247.png"}}]);