"use strict";(self.webpackChunkopenmetal_docs=self.webpackChunkopenmetal_docs||[]).push([[4793],{3905:(e,t,n)=>{n.d(t,{Zo:()=>c,kt:()=>g});var a=n(67294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var s=a.createContext({}),p=function(e){var t=a.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},c=function(e){var t=p(e.components);return a.createElement(s.Provider,{value:t},e.children)},u="mdxType",k={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},d=a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,o=e.originalType,s=e.parentName,c=l(e,["components","mdxType","originalType","parentName"]),u=p(n),d=r,g=u["".concat(s,".").concat(d)]||u[d]||k[d]||o;return n?a.createElement(g,i(i({ref:t},c),{},{components:n})):a.createElement(g,i({ref:t},c))}));function g(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var o=n.length,i=new Array(o);i[0]=d;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l[u]="string"==typeof e?e:r,i[1]=l;for(var p=2;p<o;p++)i[p]=n[p];return a.createElement.apply(null,i)}return a.createElement.apply(null,n)}d.displayName="MDXCreateElement"},34469:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>s,contentTitle:()=>i,default:()=>u,frontMatter:()=>o,metadata:()=>l,toc:()=>p});var a=n(87462),r=(n(67294),n(3905));const o={sidebar_position:2},i="Networking in OpenStack",l={unversionedId:"users-manual/network-ip-traffic",id:"users-manual/network-ip-traffic",title:"Networking in OpenStack",description:"This guide explains networking in OpenStack including how to create a",source:"@site/docs/users-manual/network-ip-traffic.md",sourceDirName:"users-manual",slug:"/users-manual/network-ip-traffic",permalink:"/docs/manuals/users-manual/network-ip-traffic",draft:!1,editUrl:"https://github.com/openmetalio/openmetal-docs/blob/main/docs/users-manual/network-ip-traffic.md",tags:[],version:"current",sidebarPosition:2,frontMatter:{sidebar_position:2},sidebar:"tutorialSidebar",previous:{title:"How to Get Started with OpenStack",permalink:"/docs/manuals/users-manual/getting-started-with-openstack"},next:{title:"Working with Images",permalink:"/docs/manuals/users-manual/working-with-images"}},s={},p=[{value:"<strong>Create a network and router</strong>",id:"create-a-network-and-router",level:2},{value:"<strong>Create a network</strong>",id:"create-a-network",level:3},{value:"<strong>Create a Router</strong>",id:"create-a-router",level:3},{value:"<strong>Floating IPs</strong>",id:"floating-ips",level:2},{value:"<strong>Allocate and Assign Floating IPs</strong>",id:"allocate-and-assign-floating-ips",level:3},{value:"Allocate floating IP",id:"allocate-floating-ip",level:3},{value:"<strong>Next Steps</strong>",id:"next-steps",level:2}],c={toc:p};function u(e){let{components:t,...o}=e;return(0,r.kt)("wrapper",(0,a.Z)({},c,o,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"networking-in-openstack"},"Networking in OpenStack"),(0,r.kt)("p",null,"This guide explains networking in OpenStack including how to create a\nprivate network, a router, and allocate and assign floating IPs."),(0,r.kt)("p",null,"You will learn how to create a private network on which instances will\nbe deployed. The network created in this guide will be used later when\ncreating an instance."),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Note")," -- Private networks should be used where possible. Only expose\nthe portions of your cloud to a public network when needed."),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://docs.openstack.org/neutron/latest/"},"Neutron"),' is the name of the\nservice that manages networking in OpenStack. It provides "network\nconnectivity as a service" between interfaces and uses the OpenStack\nNetworking API.'),(0,r.kt)("p",null,"Neutron allows networks, routers, floating IPs, and security groups to\nbe created."),(0,r.kt)("hr",null),(0,r.kt)("h2",{id:"create-a-network-and-router"},(0,r.kt)("strong",{parentName:"h2"},"Create a network and router")),(0,r.kt)("p",null,"This section demonstrates creating a private network and router. The\nrouter is important as it will allow you to create a route between\nnetworks, such as from the private network to the Internet."),(0,r.kt)("hr",null),(0,r.kt)("h3",{id:"create-a-network"},(0,r.kt)("strong",{parentName:"h3"},"Create a network")),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Step 1")," -- Getting started"),(0,r.kt)("p",null,"In Horizon, notice the sections on the left called ",(0,r.kt)("strong",{parentName:"p"},"Project")," and\n",(0,r.kt)("strong",{parentName:"p"},"Identity"),". Components of an OpenStack cloud, like a private network,\nare created through the Project tab."),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"image",src:n(71667).Z,width:"1270",height:"388"})),(0,r.kt)("hr",null),(0,r.kt)("p",null,"To create a network, under ",(0,r.kt)("strong",{parentName:"p"},"Project")," on the left, find ",(0,r.kt)("strong",{parentName:"p"},"Network"),",\nthen navigate to ",(0,r.kt)("strong",{parentName:"p"},"Networks"),". Finally, locate the ",(0,r.kt)("strong",{parentName:"p"},"Create Network"),"\nbutton near the top right."),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"image",src:n(54472).Z,width:"1280",height:"313"})),(0,r.kt)("hr",null),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Step 2")," -- Create network"),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"image",src:n(70562).Z,width:"738",height:"495"})),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Network Name")," -- This is the name of the network. In this\nexample, the network is called ",(0,r.kt)("strong",{parentName:"li"},"network-1"),"."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Enable Admin State")," -- This enables the network and should remain\nchecked."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Create Subnet")," -- Leave checked to create a subnet."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Availability Zone Hints")," -- This option's default is sufficient\nfor this guide.")),(0,r.kt)("p",null,"Fill out any other needed details and navigate to the ",(0,r.kt)("strong",{parentName:"p"},"Subnet")," tab."),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Step 3")," -- Create subnet"),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"image",src:n(65912).Z,width:"738",height:"539"})),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("strong",{parentName:"p"},"Subnet Name")," -- Specify a name for the subnet, this example is\ncalled ",(0,r.kt)("strong",{parentName:"p"},"subnet-1"))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("strong",{parentName:"p"},"Network Address")," -- Choose a network in CIDR notation. This\nexample uses ",(0,r.kt)("strong",{parentName:"p"},"192.168.0.1/24"),".")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("strong",{parentName:"p"},"Gateway IP")," -- Optionally choose the gateway IP for this network.\nIf the gateway IP is not filled out, one will be chosen by the\nNeutron service."),(0,r.kt)("p",{parentName:"li"},"  The final tab is called ",(0,r.kt)("strong",{parentName:"p"},"Subnet Details"),". This tab does not need\nto be filled out to create the network and subnet. This example will\nstop here, however on this page you can enable or disable DHCP,\nspecify specific IPs to be allocated, set DNS name servers, and set\nHost Routes."))),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Step 4")," -- Confirm network creation"),(0,r.kt)("p",null,"With the previous steps done, the network has been created. Loading the\n",(0,r.kt)("strong",{parentName:"p"},"Network -",">"," Networks")," tab will display the new network:"),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"image",src:n(53656).Z,width:"1056",height:"342"})),(0,r.kt)("hr",null),(0,r.kt)("h3",{id:"create-a-router"},(0,r.kt)("strong",{parentName:"h3"},"Create a Router")),(0,r.kt)("p",null,"With a network created, the next step is to create a router which will\nbridge the connection from the ",(0,r.kt)("strong",{parentName:"p"},"External")," or ",(0,r.kt)("strong",{parentName:"p"},"provider network")," to\nthe private network."),(0,r.kt)("hr",null),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Step 1")," -- Getting started"),(0,r.kt)("p",null,"To make a router in Horizon, under ",(0,r.kt)("strong",{parentName:"p"},"Project"),", find the ",(0,r.kt)("strong",{parentName:"p"},"Network"),"\nsection, then ",(0,r.kt)("strong",{parentName:"p"},"Routers")," under that. This page will list current\nrouters and allows you to create a router."),(0,r.kt)("p",null,"To create a new router, click the ",(0,r.kt)("strong",{parentName:"p"},"Create Router")," button near the top\nright."),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"image",src:n(69280).Z,width:"1052",height:"262"})),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Step 2")," -- Create a router"),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"image",src:n(79654).Z,width:"737",height:"480"})),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Router Name")," -- Choose a name for the router. This example router\nwill be called ",(0,r.kt)("strong",{parentName:"li"},"router-1"),"."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Enable Admin State")," -- Leave checked to enable the router."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"External Network")," -- The ",(0,r.kt)("strong",{parentName:"li"},"External")," network will be used"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Availability Zone Hints")," -- This option's default is sufficient\nfor this guide.")),(0,r.kt)("p",null,"The router will need to be connected to an external network, which will\nbe the provider network. The network called ",(0,r.kt)("strong",{parentName:"p"},"External")," will be used."),(0,r.kt)("hr",null),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Step 3")," -- Confirm the router has been created"),(0,r.kt)("p",null,"Once created it will show in the list of routers, under ",(0,r.kt)("strong",{parentName:"p"},"Network -",">","\nRouters"),"."),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"image",src:n(8981).Z,width:"1054",height:"124"})),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Step 4")," -- Connect router to private network"),(0,r.kt)("p",null,"To allow the router to communicate with the ",(0,r.kt)("strong",{parentName:"p"},"External")," and the\n",(0,r.kt)("strong",{parentName:"p"},"network-1")," network, the ",(0,r.kt)("strong",{parentName:"p"},"network-1")," network will need to be\nattached. Connecting the router to a network is called attaching an\ninterface."),(0,r.kt)("p",null,"First, pull up the newly created router from the ",(0,r.kt)("strong",{parentName:"p"},"Network -",">"," Routers"),"\nsection of Horizon."),(0,r.kt)("p",null,"Next, to add an interface to this router, click the router's name in the\nlisting of routers, then click the ",(0,r.kt)("strong",{parentName:"p"},"Add Interface")," button near the top\nright."),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"image",src:n(93371).Z,width:"1052",height:"260"})),(0,r.kt)("p",null,"In the following choose the ",(0,r.kt)("strong",{parentName:"p"},"subnet-1")," subnet to connect the router to\nand optionally choose an IP address for the interface. If you don't\nchoose an IP, the gateway IP of the subnet will be used."),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"image",src:n(74535).Z,width:"738",height:"347"})),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Step 5")," -- Confirm the networks are connected"),(0,r.kt)("p",null,"With the interface added to the router, the ",(0,r.kt)("strong",{parentName:"p"},"External")," and\n",(0,r.kt)("strong",{parentName:"p"},"network-1")," networks are now connected. This can visually be seen by\nnavigating to the ",(0,r.kt)("strong",{parentName:"p"},"Network")," tab on the left, then the ",(0,r.kt)("strong",{parentName:"p"},"Network\nTopology")," tab under that."),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"image",src:n(80079).Z,width:"1059",height:"851"})),(0,r.kt)("hr",null),(0,r.kt)("h2",{id:"floating-ips"},(0,r.kt)("strong",{parentName:"h2"},"Floating IPs")),(0,r.kt)("p",null,"Floating IPs in OpenStack are publicy routable IP addresses that can be\nattached and detached to instances. For example if there's an instance\nassociated with a private network but needs to be accessed from the\nInternet, a floating IP can be associated with the instance, allowing\ncommunication from the Internet."),(0,r.kt)("hr",null),(0,r.kt)("h3",{id:"allocate-and-assign-floating-ips"},(0,r.kt)("strong",{parentName:"h3"},"Allocate and Assign Floating IPs")),(0,r.kt)("p",null,"To use Floating IPs they will first need to be allocated from the\nprovider network's pool of IPs."),(0,r.kt)("hr",null),(0,r.kt)("h3",{id:"allocate-floating-ip"},"Allocate floating IP"),(0,r.kt)("p",null,"To allocate floating IPs in Horizon, navigate to the ",(0,r.kt)("strong",{parentName:"p"},"Network")," tab on\nthe left, and find ",(0,r.kt)("strong",{parentName:"p"},"Floating IPs"),"."),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"image",src:n(88180).Z,width:"1052",height:"254"})),(0,r.kt)("p",null,"Click ",(0,r.kt)("strong",{parentName:"p"},"Allocate IP To Project")," to allocate a new IP."),(0,r.kt)("p",null,"Next, fill out needed details in the IP allocation form."),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"image",src:n(38822).Z,width:"739",height:"451"})),(0,r.kt)("p",null,"The IP will be obtained from the ",(0,r.kt)("strong",{parentName:"p"},"External")," provider network. This is\nthe only network floating IPs can be assigned from."),(0,r.kt)("p",null,"Once the IP is added, it will appear in the floating IP list."),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"image",src:n(96009).Z,width:"1053",height:"305"})),(0,r.kt)("p",null,"This floating IP address will be used later to access an instance over\nSSH."),(0,r.kt)("hr",null),(0,r.kt)("h2",{id:"next-steps"},(0,r.kt)("strong",{parentName:"h2"},"Next Steps")),(0,r.kt)("p",null,"The ",(0,r.kt)("a",{parentName:"p",href:"working-with-images"},"next guide")," goes over\nimages in OpenStack, which are bootable operating systems."))}u.isMDXComponent=!0},93371:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/um_add_interface_router-2c24078ce579389b68dcd2dfb3f6476f.png"},38822:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/um_allocate_floating_ip-75ba6b283914604a6691c6153e953fd4.png"},70562:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/um_create_a_network_form-166d813201379316e219f314981b986b.png"},65912:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/um_create_a_subnet_form-31651de311a966ba444ace6e28e0188f.png"},79654:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/um_create_router-8cbf0770149b0dd90a0eca4cab465601.png"},96009:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/um_floating_ip_listing-c2ce4d1d16ab955bc62d2d4e129b506c.png"},88180:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/um_floating_ips-ce4d48b8b05385eca3edcaecc69c99f7.png"},53656:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/um_network_listing-514358d607bf85a1c5a69ff9628f5549.png"},54472:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/um_network_networks-b98a45afe4f46ef50e2d2569d04baad2.png"},80079:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/um_network_topology-13e4d4f2bde19f4ebbfb8c86fe359def.png"},71667:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/um_project_identity-be8a8a05737a23c9b8e6e39cfe3f75e6.png"},74535:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/um_router_add_interface-3fe38f7dbd7e4a7eaf83097ef61235db.png"},8981:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/um_router_list-11c23bdea73eff9745b9bec8b1ffcb03.png"},69280:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/um_router_main_page-1808f60d214ba2f97857ee1a182d886d.png"}}]);