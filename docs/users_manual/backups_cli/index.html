<!doctype html>
<html class="docs-version-current" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.14">
<title data-react-helmet="true">Managing Backups in OpenStack | Openmetal Docs</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:url" content="https://inmotionhosting.github.io/openmetal-docs/docs/users_manual/backups_cli"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Managing Backups in OpenStack | Openmetal Docs"><meta data-react-helmet="true" name="description" content="Having a solid backup strategy is important in the event where data is"><meta data-react-helmet="true" property="og:description" content="Having a solid backup strategy is important in the event where data is"><link data-react-helmet="true" rel="icon" href="/openmetal-docs/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://inmotionhosting.github.io/openmetal-docs/docs/users_manual/backups_cli"><link data-react-helmet="true" rel="alternate" href="https://inmotionhosting.github.io/openmetal-docs/docs/users_manual/backups_cli" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://inmotionhosting.github.io/openmetal-docs/docs/users_manual/backups_cli" hreflang="x-default"><link rel="stylesheet" href="/openmetal-docs/assets/css/styles.0b4a7092.css">
<link rel="preload" href="/openmetal-docs/assets/js/runtime~main.d81ccfa3.js" as="script">
<link rel="preload" href="/openmetal-docs/assets/js/main.106e4622.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_OuoZ">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/openmetal-docs/"><div class="navbar__logo"><img src="/openmetal-docs/img/openmetal.svg" alt="Openmetal" class="themedImage_TMUO themedImage--light_4Vu1"><img src="/openmetal-docs/img/openmetal.svg" alt="Openmetal" class="themedImage_TMUO themedImage--dark_uzRr"></div><b class="navbar__title"></b></a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/inmotionhosting/openmetal-docs" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_lDyR"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_i9tI" type="button"></button><aside class="docSidebarContainer_0YBq"><div class="sidebar_a3j0"><nav class="menu thin-scrollbar menu_cyFh"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--active hasHref_TwRn" href="/openmetal-docs/docs/users_manual/">User&#x27;s Manual</a><button aria-label="Toggle the collapsible sidebar category &#x27;User&#x27;s Manual&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/openmetal-docs/docs/users_manual/getting_started_with_openstack">How to Get Started with OpenStack</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/openmetal-docs/docs/users_manual/network_ip_traffic">Networking in OpenStack</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/openmetal-docs/docs/users_manual/using_creating_images">Working with Images</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/openmetal-docs/docs/users_manual/create_an_instance">How to Create an Instance</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/openmetal-docs/docs/users_manual/backups">How to Make Backups in OpenStack</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/openmetal-docs/docs/users_manual/openstackclient">Get Started with OpenStackClient</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/openmetal-docs/docs/users_manual/network_ip_traffic_cli">Create a Network</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/openmetal-docs/docs/users_manual/using_creating_images_cli">Manage OpenStack Images</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/openmetal-docs/docs/users_manual/create_an_instance_cli">Create an Instance</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/openmetal-docs/docs/users_manual/backups_cli">Managing Backups in OpenStack</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/openmetal-docs/docs/users_manual/use_openstack_cli">OpenStack CLI for Common Operational Tasks</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link hasHref_TwRn" href="/openmetal-docs/docs/operators-manual/">Operator&#x27;s Manual</a><button aria-label="Toggle the collapsible sidebar category &#x27;Operator&#x27;s Manual&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link hasHref_TwRn" href="/openmetal-docs/docs/operators-manual-extras/">Operator&#x27;s Manual Extras</a><button aria-label="Toggle the collapsible sidebar category &#x27;Operator&#x27;s Manual Extras&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" href="/openmetal-docs/docs/how-to-guides/horizon/live-migrate-instance">How to Guides</a></div></li></ul></nav></div></aside><main class="docMainContainer_r8cw"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_zHA2"><div class="docItemContainer_oiyr"><article><div class="tocCollapsible_aw-L theme-doc-toc-mobile tocMobile_Tx6Y"><button type="button" class="clean-btn tocCollapsibleButton_zr6a">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Managing Backups in OpenStack</h1></header><p>Having a solid backup strategy is important in the event where data is
lost and you need to recover it. In this guide, you will learn how to
make backups of instance data, volumes, and how to store backups outside
of the OpenStack cloud.</p><p><strong>Considerations for Testing Backups</strong></p><p>Backups should not only be created, but should be confirmed they contain
all data as well as be restored and tested as part of a polished backup
strategy. Consider a disaster recovery scenario where you have known
backups, however they were never tested, and are not usable due to some
circumstance.</p><hr><h2 class="anchor anchorWithStickyNavbar_y2LR" id="instance-backups">Instance Backups<a class="hash-link" href="#instance-backups" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithStickyNavbar_y2LR" id="how-to-create-an-instance-backup">How to Create an Instance Backup<a class="hash-link" href="#how-to-create-an-instance-backup" title="Direct link to heading">​</a></h3><p>This section demonstrates how to create an instance backup using
OpenStackClient.</p><p>To begin, ensure you have prepared your OpenStackClient environment
before issuing commands.</p><p>Depending on how the instance was spawned will determine how to create a
backup. If the instance is volume-backed, you will have to back up the
volume. If the instance is image-backed, you can back up the instance
itself, which creates an image backup. Each method is described below.</p><hr><h4 class="anchor anchorWithStickyNavbar_y2LR" id="volume-backed-instance">Volume-backed Instance<a class="hash-link" href="#volume-backed-instance" title="Direct link to heading">​</a></h4><p>To create a backup of a volume-backed instance using OpenStackClient,
you will need to create a backup of the volume, by first obtaining the
volume&#x27;s UUID, then use <code>openstack volume backup create VOLUME_UUID</code>.</p><p>In addition, if the volume is in use by an instance, the <code>--force</code> flag
is required to create the volume backup.</p><hr><p><strong>Step 1</strong> -- Create Backup</p><p>Create a backup of a volume-backed instance by first listing volumes
then issuing the command to back up that volume:</p><div class="codeBlockContainer_J+bg theme-code-block"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">$ openstack volume list</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">+--------------------------------------+-------------------+-----------+------+--------------------------------------------+</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">| ID                                   | Name              | Status    | Size | Attached to                                |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">+--------------------------------------+-------------------+-----------+------+--------------------------------------------+</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">| 9887730c-e804-4353-af2d-a92b750ed6b5 |                   | in-use    |   17 | Attached to instance-2-volume on /dev/vda  |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">| 9a1dfde3-9113-400c-b06e-80d67c636ef9 |                   | in-use    |   25 | Attached to wordpress-1 on /dev/vda</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>This example demonstrates creating a backup of <code>instance-2-volume</code> by
backing up its associated volume, referenced by
<code>9887730c-e804-4353-af2d-a92b750ed6b5</code>.</p><p>Create backup of <code>instance-2-volume</code>:</p><div class="codeBlockContainer_J+bg theme-code-block"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">$ openstack volume backup create 9887730c-e804-4353-af2d-a92b750ed6b5 \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--force</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">+-------+--------------------------------------+</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">| Field | Value                                |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">+-------+--------------------------------------+</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">| id    | bc8d29c4-be51-4675-b290-bd0bdc8c9be7 |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">| name  | None                                 |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">+-------+--------------------------------------+</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>Take note of the <strong>id</strong> of the backup as this will be used next to
determine the backup status.</p><p><strong>Step 2</strong> -- Confirm Backup Completion</p><p>The backup will take some time to complete. After a period of time,
check the status by using <code>openstack volume backup show
VOLUME_BACKUP_UUID</code>, replacing <strong>VOLUME<!-- -->_<!-- -->BACKUP<!-- -->_<!-- -->UUID</strong> with the actual
UUID of the volume backup:</p><div class="codeBlockContainer_J+bg theme-code-block"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">$ openstack volume backup show bc8d29c4-be51-4675-b290-bd0bdc8c9be7</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">+-----------------------+--------------------------------------+</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">| Field                 | Value                                |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">+-----------------------+--------------------------------------+</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">| availability_zone     | None                                 |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">| container             | backups                              |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">| created_at            | 2021-05-24T16:04:49.000000           |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">| data_timestamp        | 2021-05-24T16:04:49.000000           |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">| description           | None                                 |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">| fail_reason           | None                                 |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">| has_dependent_backups | False                                |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">| id                    | bc8d29c4-be51-4675-b290-bd0bdc8c9be7 |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">| is_incremental        | False                                |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">| name                  | None                                 |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">| object_count          | 0                                    |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">| size                  | 17                                   |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">| snapshot_id           | None                                 |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">| status                | available                            |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">| updated_at            | 2021-05-24T16:05:35.000000           |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">| volume_id             | 9887730c-e804-4353-af2d-a92b750ed6b5 |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">+-----------------------+--------------------------------------+</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h4 class="anchor anchorWithStickyNavbar_y2LR" id="image-backed-instance">Image-backed Instance<a class="hash-link" href="#image-backed-instance" title="Direct link to heading">​</a></h4><p>To create a backup of an image-backed instance, use <code>openstack server
backup create INSTANCE_UUID</code>.</p><hr><p><strong>Step 1</strong> -- Create Backup</p><p>First list instances to obtain the UUID, or you can specify the instance
name to the backup command:</p><div class="codeBlockContainer_J+bg theme-code-block"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">$ openstack server list</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">+--------------------------------------+-------------------+--------+-----------------------------------------+------------------------------+----------+</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">| ID                                   | Name              | Status | Networks                                | Image                        | Flavor   |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">+--------------------------------------+-------------------+--------+-----------------------------------------+------------------------------+----------+</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">| 226ebf42-f58d-4149-8393-dd4f241c33aa | image-backed      | ACTIVE | network-1=192.168.0.199                 | CentOS 8 Stream (el8-x86_64) | c1.micro |</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>Next, create a backup of the instance called <strong>image-backed</strong> using:</p><div class="codeBlockContainer_J+bg theme-code-block"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">$ openstack server backup create image-backed</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">+------------------+------------------------------------------------------------------------+</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">| Field            | Value                                                                  |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">+------------------+------------------------------------------------------------------------+</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">| container_format | bare                                                                   |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">| created_at       | 2021-05-24T16:45:17Z                                                   |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">| disk_format      | qcow2                                                                  |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">| file             | /v2/images/um_f3f2bf61-c699-43ce-9db5-4bb3343cbfad/file                   |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">| id               | f3f2bf61-c699-43ce-9db5-4bb3343cbfad                                   |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">| min_disk         | 25                                                                     |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">| min_ram          | 0                                                                      |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">| name             | image-backed                                                           |</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>Note the <strong>id</strong> column from the output. This is the UUID of the backup
and will be used to verify backup completion.</p><p><strong>Step 2</strong> -- Confirm Backup Completion</p><p>When a backup of an image-backed instance is created, it is created as
an image.</p><p>To confirm the status of the backup, use <code>openstack image show UUID</code>:</p><div class="codeBlockContainer_J+bg theme-code-block"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">$ openstack image show f3f2bf61-c699-43ce-9db5-4bb3343cbfad --fit-width</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">+------------------+------------------------------------------------------------------------+</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">| Field            | Value                                                                  |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">+------------------+------------------------------------------------------------------------+</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">| container_format | bare                                                                   |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">| created_at       | 2021-05-24T16:45:17Z                                                   |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">| disk_format      | raw                                                                    |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">| file             | /v2/images/um_f3f2bf61-c699-43ce-9db5-4bb3343cbfad/file                   |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">| id               | f3f2bf61-c699-43ce-9db5-4bb3343cbfad                                   |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">| min_disk         | 25                                                                     |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">| min_ram          | 0                                                                      |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">| name             | image-backed                                                           |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">| owner            | b93259ca0a5b4541b30e4e16ae1d699d                                       |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">| properties       | [truncated]                                                            |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">| protected        | False                                                                  |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">| schema           | /v2/schemas/image                                                      |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">| size             | 26843545600                                                            |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">| status           | active                                                                 |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">| tags             |                                                                        |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">| updated_at       | 2021-05-24T16:45:50Z                                                   |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">| visibility       | private                                                                |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">+------------------+------------------------------------------------------------------------+</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>Look for the <strong>status</strong> column to indicate the status of the backup. If
the backup is complete, the status will show as <code>active</code>.</p><h3 class="anchor anchorWithStickyNavbar_y2LR" id="how-to-recover-an-instance-backup">How to Recover an Instance Backup<a class="hash-link" href="#how-to-recover-an-instance-backup" title="Direct link to heading">​</a></h3><p>This section explains how to recover an instance backup using
OpenStackClient.</p><p>To recover an instance backup, the process involves creating a new
instance based on the image or volume backup.</p><hr><h4 class="anchor anchorWithStickyNavbar_y2LR" id="volume-backed-instance-1">Volume-backed Instance<a class="hash-link" href="#volume-backed-instance-1" title="Direct link to heading">​</a></h4><p>This section demonstrates how to recover an instance using a volume
backup.</p><p>To restore an instance from a volume backup, the volume backup needs to
first be restored into a new volume, then an instance can be booted
using that new volume.</p><hr><p><strong>Step 1</strong> -- Create new volume</p><p>First create a volume of appropriate size to restore the volume backup
into, using <code>openstack volume create --size SIZE</code>:</p><div class="codeBlockContainer_J+bg theme-code-block"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">$ openstack volume create wordpress-1-backup-1 --size 25</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">+---------------------+--------------------------------------+</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">| Field               | Value                                |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">+---------------------+--------------------------------------+</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">| attachments         | []                                   |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">| availability_zone   | nova                                 |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">| bootable            | false                                |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">| consistencygroup_id | None                                 |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">| created_at          | 2021-05-24T17:57:29.000000           |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">| description         | None                                 |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">| encrypted           | False                                |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">| id                  | 1810a215-67e4-48b5-ba51-feef9d263660 |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">| multiattach         | False                                |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">| name                | wordpress-1-backup-1                 |</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>Take note of the <strong>id</strong>, <code>1810a215-67e4-48b5-ba51-feef9d263660</code>, as this
will be used in the next section to recover.</p><p><strong>Step 2</strong> -- Restore volume backup</p><p>The volume backup can be restored now, but first you will need the UUID
of the backup created previously. This can be listed by using <code>openstack
volume backup list</code>:</p><div class="codeBlockContainer_J+bg theme-code-block"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">$ openstack volume backup list</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">+--------------------------------------+--------------------------+-------------+-----------+------+</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">| ID                                   | Name                     | Description | Status    | Size |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">+--------------------------------------+--------------------------+-------------+-----------+------+</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">| f8440441-92b8-4522-9dfe-18868e089d6e | None                     | None        | available |   25 |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">| bc8d29c4-be51-4675-b290-bd0bdc8c9be7 | None                     | None        | available |   17 |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">| 1ae23283-e43f-4a67-97a1-0b7f7afaaff2 | wordpress-media-1-backup |             | available |    5 |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">+--------------------------------------+--------------------------+-------------+-----------+------+</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>This example will recover the volume backup under UUID
<code>f8440441-92b8-4522-9dfe-18868e089d6e</code>.</p><p>Restore the volume backup into the new volume using <code>openstack volume
backup restore BACKUP_UUID VOLUME_UUID</code>, replacing <strong>BACKUP<!-- -->_<!-- -->UUID</strong> and
<strong>VOLUME<!-- -->_<!-- -->UUID</strong> with the UUIDs of the backup and the new volume:</p><div class="codeBlockContainer_J+bg theme-code-block"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">$ openstack volume backup restore f8440441-92b8-4522-9dfe-18868e089d6e 1810a215-67e4-48b5-ba51-feef9d263660</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">+-------------+--------------------------------------+</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">| Field       | Value                                |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">+-------------+--------------------------------------+</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">| backup_id   | f8440441-92b8-4522-9dfe-18868e089d6e |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">| volume_id   | 1810a215-67e4-48b5-ba51-feef9d263660 |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">| volume_name | wordpress-1-backup-1                 |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">+-------------+--------------------------------------+</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p><strong>Step 3</strong> -- Confirm volume</p><p>Confirm the volume backup restored into the new volume by listing
volumes and note the <strong>Status</strong> column:</p><div class="codeBlockContainer_J+bg theme-code-block"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">$ openstack volume list</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">+--------------------------------------+----------------------+-----------+------+--------------------------------------------+</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">| ID                                   | Name                 | Status    | Size | Attached to                                |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">+--------------------------------------+----------------------+-----------+------+--------------------------------------------+</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">| 1810a215-67e4-48b5-ba51-feef9d263660 | wordpress-1-backup-1 | available |   25 |                                            |</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>If the backup is ready to use, the <strong>Status</strong> column will show as
<code>available</code>.</p><p><strong>Step 4</strong> -- Create new instance</p><p>A new instance can now be created using this volume. For help with how
to create an instance see the <a href="/openmetal-docs/docs/users_manual/create_an_instance_cli">Create an
Instance</a> guide.</p><p>The following builds an instance booted from the previously restored
volume backup:</p><div class="codeBlockContainer_J+bg theme-code-block"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">$ openstack server create --volume 1810a215-67e4-48b5-ba51-feef9d263660 \\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    --flavor c1.micro \\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    --network 29aa8aec-36ec-416d-9828-4a3b6bb10f4b \\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    --key-name key-1 \\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    --security-group 44668612-1a18-4289-b5fb-f24de8e20c09 \\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    wordpress-2-volume-restored</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p><strong>Step 5</strong> -- Confirm instance restoration</p><p>Show the details of the instance to confirm it is active:</p><div class="codeBlockContainer_J+bg theme-code-block"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">$ openstack server show wordpress-2-volume-restored | grep status</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">| status                      | ACTIVE                                                   |</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h4 class="anchor anchorWithStickyNavbar_y2LR" id="image-backed-instance-1">Image-backed Instance<a class="hash-link" href="#image-backed-instance-1" title="Direct link to heading">​</a></h4><p>This section explains how to recover an instance using an image backup.</p><hr><p><strong>Step 1</strong> -- List images</p><p>First, acquire the UUID of the image you wish to restore using
<code>openstack image list</code>:</p><div class="codeBlockContainer_J+bg theme-code-block"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">$ openstack image list</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">+--------------------------------------+------------------------------------------------------+--------+</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">| ID                                   | Name                                                 | Status |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">+--------------------------------------+------------------------------------------------------+--------+</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">| d5a101ff-0870-435f-bf76-c3309e542a53 | CentOS 8 Stream (el8-x86_64)                         | active |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">| 8c8e0a35-61dd-4540-b9fd-ca36ca0ef181 | Debian 10 (buster-amd64)                             | active |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">| be44af12-aa34-4b25-b4af-60a66599f442 | Fedora CoreOS (fedora-coreos-33.20210412.3.0-stable) | active |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">| c005b6f3-9d34-4f91-94b6-1ff50c174750 | Ubuntu 20.04 (focal-amd64)                           | active |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">| f3f2bf61-c699-43ce-9db5-4bb3343cbfad | image-backed                                         | active |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">| d589995e-7425-42fd-8a6a-3bf98783e0cc | wordpress-1-snap                                     | active |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">| ec4c8f61-6f44-4360-99b3-47b3022d177d | wordpress-2-snap                                     | active |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">+--------------------------------------+------------------------------------------------------+--------+</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>This example will use the image called <strong>image-backed</strong>, which is
associated with UUID <code>f3f2bf61-c699-43ce-9db5-4bb3343cbfad</code>.</p><p><strong>Step 2</strong> -- Spawn instance</p><p>With the image UUID, spawn a new instance called
<strong>instance-3-image-backed</strong>:</p><div class="codeBlockContainer_J+bg theme-code-block"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">$ openstack server create \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--image f3f2bf61-c699-43ce-9db5-4bb3343cbfad \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--flavor c1.micro \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--network 29aa8aec-36ec-416d-9828-4a3b6bb10f4b \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--key-name key-1 \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--security-group 44668612-1a18-4289-b5fb-f24de8e20c09 \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">instance-3-image-backed</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p><strong>Step 3</strong> -- Confirm instance creation</p><p>Confirm the instance created successfully by listing instances or
showing the specific details of the instance.</p><p><strong>List Instances</strong></p><p>List instances using <code>openstack server list</code>:</p><div class="codeBlockContainer_J+bg theme-code-block"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">$ openstack server list</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">+--------------------------------------+-----------------------------+--------+-------------------------+------------------------------+----------+</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">| ID                                   | Name                        | Status | Networks                | Image                        | Flavor   |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">+--------------------------------------+-----------------------------+--------+-------------------------+------------------------------+----------+</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">| 98174d7f-53c1-4861-84a5-2517b90ba92e | instance-3-image-backed     | ACTIVE | network-1=192.168.0.176 | image-backed                 | c1.micro |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">| ff205cad-965c-4ae1-9e47-65fa4d1df82b | wordpress-2-volume-restored | ACTIVE | network-1=192.168.0.226 | N/A (booted from volume)     | c1.micro |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">| 226ebf42-f58d-4149-8393-dd4f241c33aa | image-backed                | ACTIVE | network-1=192.168.0.199 | CentOS 8 Stream (el8-x86_64) | c1.micro |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">| da6591d9-7cbd-47aa-9a46-ff3cb6d52c24 | instance-2-volume           | ACTIVE | network-1=192.168.0.178 | N/A (booted from volume)     | c1.micro |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">| 72e1e2db-0276-4ddd-85b4-452aa7c449c0 | instance-1                  | ACTIVE | network-1=192.168.0.50  | CentOS 8 Stream (el8-x86_64) | c1.micro |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">+--------------------------------------+-----------------------------+--------+-------------------------+------------------------------+----------+</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>The first item in the above list is the instance previously created. The
<strong>Status</strong> column shows <code>ACTIVE</code> indicating the instance is ready to
use.</p><hr><h2 class="anchor anchorWithStickyNavbar_y2LR" id="volume-backups">Volume Backups<a class="hash-link" href="#volume-backups" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithStickyNavbar_y2LR" id="how-to-create-a-volume-backup">How to Create a Volume Backup<a class="hash-link" href="#how-to-create-a-volume-backup" title="Direct link to heading">​</a></h3><p>In addition to creating instance snapshots, you can also create backups
of volumes using OpenStackClient. This is important when a persistent
volume is used and you want to create backup copies of it.</p><hr><p><strong>Step 1</strong> -- List existing volumes</p><p>To create a volume backup, you first need to know the name or UUID of
the volume being backed up.</p><p>Determine this by listing volumes, using <code>openstack volume list</code>:</p><div class="codeBlockContainer_J+bg theme-code-block"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">$ openstack volume list</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">+--------------------------------------+----------------------+-----------+------+------------------------------------------------------+</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">| ID                                   | Name                 | Status    | Size | Attached to                                          |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">+--------------------------------------+----------------------+-----------+------+------------------------------------------------------+</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">| 1810a215-67e4-48b5-ba51-feef9d263660 | wordpress-1-backup-1 | available |   25 |                                                      |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">| 9887730c-e804-4353-af2d-a92b750ed6b5 |                      | in-use    |   17 | Attached to instance-2-volume on /dev/vda            |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">| 2a8eb736-9e7b-4ede-9a4e-9a50fc571da2 |                      | in-use    |   25 | Attached to wordpress-2-volume-restored on /dev/vda  |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">| 664e09b7-e1f9-46e1-9504-794ff75e7295 |                      | available |   25 |                                                      |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">| 0860845e-ba18-4f1f-84ed-22600ad7bbca | wordpress-media-1    | available |    5 |                                                      |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">+--------------------------------------+----------------------+-----------+------+------------------------------------------------------+</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p><strong>Step 2</strong> -- Create volume backup</p><p>This example will demonstrate backing up the volume from the above
called <code>wordpress-media-1</code>.</p><p>To create a volume backup of this volume, use <code>openstack volume backup
create wordpress-media-1</code>:</p><div class="codeBlockContainer_J+bg theme-code-block"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">$ openstack volume backup create wordpress-media-1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">+-------+--------------------------------------+</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">| Field | Value                                |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">+-------+--------------------------------------+</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">| id    | 3db892b4-809e-400b-9d85-1f3340de49a5 |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">| name  | None                                 |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">+-------+--------------------------------------+</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p><strong>Step 3</strong> -- Confirm volume backup completion</p><p>You can either list the volume backups and look at the <strong>Status</strong> column
or show the details of the specific volume backup.</p><p>List volume backups using <code>openstack volume backup list</code>:</p><div class="codeBlockContainer_J+bg theme-code-block"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">$ openstack volume backup list</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">+--------------------------------------+--------------------------+-------------+-----------+------+</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">| ID                                   | Name                     | Description | Status    | Size |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">+--------------------------------------+--------------------------+-------------+-----------+------+</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">| 3db892b4-809e-400b-9d85-1f3340de49a5 | None                     | None        | available |    5 |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">| f8440441-92b8-4522-9dfe-18868e089d6e | None                     | None        | available |   25 |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">| bc8d29c4-be51-4675-b290-bd0bdc8c9be7 | None                     | None        | available |   17 |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">| 1ae23283-e43f-4a67-97a1-0b7f7afaaff2 | wordpress-media-1-backup |             | available |    5 |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">+--------------------------------------+--------------------------+-------------+-----------+------+</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>The <strong>Status</strong> column indicates if the volume backup is ready to use or
not and should report <code>available</code> when the backup is ready.</p><hr><h3 class="anchor anchorWithStickyNavbar_y2LR" id="how-to-recover-a-volume-backup">How to Recover a Volume Backup<a class="hash-link" href="#how-to-recover-a-volume-backup" title="Direct link to heading">​</a></h3><p>This section explains the steps needed to recover a volume backup using
OpenStackClient. The flow for recovering a volume backup is to find the
volume backup UUID, create an empty volume, then recover the backup into
the new volume.</p><hr><p><strong>Step 1</strong> -- Find the volume backup</p><p>First, list the available volume backups using <code>openstack volume backup
list</code>:</p><div class="codeBlockContainer_J+bg theme-code-block"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">$ openstack volume backup list</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">+--------------------------------------+--------------------------+-------------+-----------+------+</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">| ID                                   | Name                     | Description | Status    | Size |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">+--------------------------------------+--------------------------+-------------+-----------+------+</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">| 3db892b4-809e-400b-9d85-1f3340de49a5 | None                     | None        | available |    5 |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">| f8440441-92b8-4522-9dfe-18868e089d6e | None                     | None        | available |   25 |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">| bc8d29c4-be51-4675-b290-bd0bdc8c9be7 | None                     | None        | available |   17 |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">| 1ae23283-e43f-4a67-97a1-0b7f7afaaff2 | wordpress-media-1-backup |             | available |    5 |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">+--------------------------------------+--------------------------+-------------+-----------+------+</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>This example will recover the volume backup called
<strong>wordpress-media-1-backup</strong>.</p><p><strong>Step 2</strong> -- Create new volume</p><p>Next, create a new volume at least the size of the volume backup using
<code>openstack volume create --size SIZE VOLUME_NAME</code>, where <strong>SIZE</strong> is in
gigabytes and the <strong>VOLUME<!-- -->_<!-- -->NAME</strong> is the name of the volume:</p><div class="codeBlockContainer_J+bg theme-code-block"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">$ openstack volume create --size 5 wordpress-media-1-backup-2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">+---------------------+--------------------------------------+</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">| Field               | Value                                |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">+---------------------+--------------------------------------+</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">| attachments         | []                                   |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">| availability_zone   | nova                                 |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">| bootable            | false                                |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">| consistencygroup_id | None                                 |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">| created_at          | 2021-05-24T22:04:02.000000           |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">| description         | None                                 |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">| encrypted           | False                                |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">| id                  | 05b1310b-35d0-497f-a150-3ca436b6a969 |</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>The UUID of this volume is <code>05b1310b-35d0-497f-a150-3ca436b6a969</code> and
will be used in the next section.</p><p><strong>Step 3</strong> -- Recover volume backup</p><p>Restore the volume backup into the new volume using <code>openstack volume
backup restore BACKUP_UUID VOLUME_UUID</code>, replacing <strong>BACKUP<!-- -->_<!-- -->UUID</strong> and
<strong>VOLUME<!-- -->_<!-- -->UUID</strong> with the UUIDs of the backup and the new volume:</p><div class="codeBlockContainer_J+bg theme-code-block"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">$ openstack volume backup restore wordpress-media-1-backup 05b1310b-35d0-497f-a150-3ca436b6a969</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">+-------------+--------------------------------------+</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">| Field       | Value                                |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">+-------------+--------------------------------------+</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">| backup_id   | 1ae23283-e43f-4a67-97a1-0b7f7afaaff2 |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">| volume_id   | 05b1310b-35d0-497f-a150-3ca436b6a969 |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">| volume_name | wordpress-media-1-backup-2           |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">+-------------+--------------------------------------+</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p><strong>Step 4</strong> -- Confirm backup recovery</p><p>Finally, confirm the backup restored by listing volumes:</p><div class="codeBlockContainer_J+bg theme-code-block"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">$ openstack volume list</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">+--------------------------------------+----------------------------+-----------+------+------------------------------------------------------+</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">| ID                                   | Name                       | Status    | Size | Attached to                                          |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">+--------------------------------------+----------------------------+-----------+------+------------------------------------------------------+</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">| 05b1310b-35d0-497f-a150-3ca436b6a969 | wordpress-media-1-backup-2 | available |    5 |                                                      |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">| 1810a215-67e4-48b5-ba51-feef9d263660 | wordpress-1-backup-1       | available |   25 |                                                      |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">| 9887730c-e804-4353-af2d-a92b750ed6b5 |                            | in-use    |   17 | Attached to instance-2-volume on /dev/vda            |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">| 2a8eb736-9e7b-4ede-9a4e-9a50fc571da2 |                            | in-use    |   25 | Attached to wordpress-2-volume-restored on /dev/vda  |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">| 664e09b7-e1f9-46e1-9504-794ff75e7295 |                            | available |   25 |                                                      |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">| 0860845e-ba18-4f1f-84ed-22600ad7bbca | wordpress-media-1          | available |    5 |                                                      |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">+--------------------------------------+----------------------------+-----------+------+------------------------------------------------------+</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>The first item in the above list is the restored backup,
<strong>wordpress-media-1-backup-2</strong>. Note the <strong>Status</strong> column reports
<code>available</code> indicating the backup restoration succeeded.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/inmotionhosting/openmetal-docs/blob/main/docs/users_manual/backups_cli.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_mS5F" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_mt2f"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/openmetal-docs/docs/users_manual/create_an_instance_cli"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Create an Instance</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/openmetal-docs/docs/users_manual/use_openstack_cli"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">OpenStack CLI for Common Operational Tasks</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_vrFS thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#instance-backups" class="table-of-contents__link toc-highlight">Instance Backups</a><ul><li><a href="#how-to-create-an-instance-backup" class="table-of-contents__link toc-highlight">How to Create an Instance Backup</a></li><li><a href="#how-to-recover-an-instance-backup" class="table-of-contents__link toc-highlight">How to Recover an Instance Backup</a></li></ul></li><li><a href="#volume-backups" class="table-of-contents__link toc-highlight">Volume Backups</a><ul><li><a href="#how-to-create-a-volume-backup" class="table-of-contents__link toc-highlight">How to Create a Volume Backup</a></li><li><a href="#how-to-recover-a-volume-backup" class="table-of-contents__link toc-highlight">How to Recover a Volume Backup</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="margin-bottom--sm"><img src="/openmetal-docs/img/openmetal.svg" alt="Facebook Open Source Logo" class="themedImage_TMUO themedImage--light_4Vu1 footer__logo"><img src="/openmetal-docs/img/openmetal.svg" alt="Facebook Open Source Logo" class="themedImage_TMUO themedImage--dark_uzRr footer__logo"></div><div class="footer__copyright"><strong>2022 © OpenMetal, a division of <a href="https://www.inmotionhosting.com" target="_blank" rel="noopener">InMotion Hosting</a>.  All rights reserved.</strong></div></div><div class="footerContact_lPaK"><p>555 S. Independence Blvd, Virginia Beach, VA 23452</p><div class="contactLinks_EKti"><a href="tel:+18777289664">877-7-BUY-OMI</a><a href="mailto:sales@openmetal.io">sales@openmetal.io</a><a href="https://openmetal.io/schedule-meeting/">Schedule a Demo</a></div><p><strong>OpenMetal Central:</strong> <a target="_blank" href="https://central.openmetal.io/auth/sign-in">Login</a> or <a target="_blank" href="https://central.openmetal.io/sign-up">Create New Account</a></p></div></div></footer></div>
<script src="/openmetal-docs/assets/js/runtime~main.d81ccfa3.js"></script>
<script src="/openmetal-docs/assets/js/main.106e4622.js"></script>
</body>
</html>