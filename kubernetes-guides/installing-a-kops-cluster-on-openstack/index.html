<!doctype html>
<html class="docs-version-current" lang="en" dir="ltr">
<head>
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.0.0-beta.14">
<title data-react-helmet="true">Installing a kOps cluster on OpenStack | OpenMetal Docs</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:url" content="https://openmetal.io/docs/manuals/kubernetes-guides/installing-a-kops-cluster-on-openstack"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" name="twitter:site" content="@openmetalio"><meta data-react-helmet="true" name="twitter:creator" content="@openmetalio"><meta data-react-helmet="true" property="og:title" content="Installing a kOps cluster on OpenStack | OpenMetal Docs"><meta data-react-helmet="true" name="description" content="This guide will walk you through the process of installing a Kubernetes cluster on OpenStack using kops."><meta data-react-helmet="true" property="og:description" content="This guide will walk you through the process of installing a Kubernetes cluster on OpenStack using kops."><link data-react-helmet="true" rel="icon" href="/docs/manuals/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://openmetal.io/docs/manuals/kubernetes-guides/installing-a-kops-cluster-on-openstack"><link data-react-helmet="true" rel="alternate" href="https://openmetal.io/docs/manuals/kubernetes-guides/installing-a-kops-cluster-on-openstack" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://openmetal.io/docs/manuals/kubernetes-guides/installing-a-kops-cluster-on-openstack" hreflang="x-default"><link rel="stylesheet" href="/docs/manuals/assets/css/styles.a16beaf1.css">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_OuoZ">Skip to main content</a></div><nav class="navbar"><div class="navbar__inner"><div class="navbar_top_row"><a href="https://openmetal.io/schedule-meeting/" target="_self" rel="noopener noreferrer" class="navbar__item navbar__link">SCHEDULE MEETING</a><a href="https://openmetal.io/free-trial/" target="_self" rel="noopener noreferrer" class="navbar__item navbar__link">FREE TRIAL</a><a href="https://central.openmetal.io/auth/sign-in" target="_self" rel="noopener noreferrer" class="navbar__item navbar__link">LOGIN</a></div><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a href="https://openmetal.io" target="_self" rel="noopener noreferrer" class="navbar__brand"><div class="navbar__logo"><img src="https://inmotionhosting.github.io/static-assets/logo/open-metal/medium.png" alt="OpenMetal" class="themedImage_TMUO themedImage--light_4Vu1"><img src="https://inmotionhosting.github.io/static-assets/logo/open-metal/medium.png" alt="OpenMetal" class="themedImage_TMUO themedImage--dark_uzRr"></div><b class="navbar__title"></b></a><div class="custom-navbar-item-dropdown"><div class="navbar__item dropdown dropdown--hoverable"><a href="#" class="navbar__link" header="IAAS Products" target="_self">Products</a></div><div class="dropdown_menu_container"><ul class="dropdown__menu"><div class="dropdown_menu_left"><h2>IAAS Products</h2><div><li><a href="https://openmetal.io/products/private-cloud/hosted/" target="_self" rel="noopener noreferrer" class="dropdown__link" description="The rich benefits of private cloud now delivered in 45 seconds" itemtype="link">On-Demand Private Cloud</a></li><p>The rich benefits of private cloud now delivered in 45 seconds</p></div><div><li><a href="https://openmetal.io/solutions/on-demand-openstack-cloud/" target="_self" rel="noopener noreferrer" class="dropdown__link" description="Production ready OpenStack clusters in 45 seconds. Fully customizable." itemtype="link">On-Demand OpenStack</a></li><p>Production ready OpenStack clusters in 45 seconds. Fully customizable.</p></div><div><li><a href="https://openmetal.io/solutions/on-demand-openstack-cloud/" target="_self" rel="noopener noreferrer" class="dropdown__link" description="Large scale clusters for Clickhouse, Spark, Ceph, Hadoop, and more" itemtype="link">Bare Metal Clusters</a></li><p>Large scale clusters for Clickhouse, Spark, Ceph, Hadoop, and more</p></div></div><div class="dropdown_menu_right"><div class="article"><img class="img-responsive" data-src="https://openmetal.io/wp-content/uploads/2022/04/Large-IaaS-Deployments-Featured-Image-768x432.png"><li><a href="https://openmetal.io/products/products/private-pods" target="_self" rel="noopener noreferrer" class="dropdown__link" description="Leverage the on-demand fleet and team for innovative solutions" image_url="https://openmetal.io/wp-content/uploads/2022/04/Large-IaaS-Deployments-Featured-Image-768x432.png" itemtype="article">Large IAAS Deployments</a></li><p>Leverage the on-demand fleet and team for innovative solutions</p></div></div></ul></div></div><div class="custom-navbar-item-dropdown"><div class="navbar__item dropdown dropdown--hoverable"><a href="#" class="navbar__link" header="IAAS Solutions" target="_self">Solutions</a></div><div class="dropdown_menu_container"><ul class="dropdown__menu"><div class="dropdown_menu_left"><h2>IAAS Solutions</h2><div><li><a href="https://openmetal.io/solutions/saas/" target="_self" rel="noopener noreferrer" class="dropdown__link" description="Cost effective infrastructure is critical to good margins" itemtype="link">Private Cloud for SaaS</a></li><p>Cost effective infrastructure is critical to good margins</p></div><div><li><a href="https://openmetal.io/solutions/openstack-public-cloud-providers/" target="_self" rel="noopener noreferrer" class="dropdown__link" description="Combined scale yields better costs, new locations, and more features" itemtype="link">OpenStack Public Cloud Providers</a></li><p>Combined scale yields better costs, new locations, and more features</p></div><div><li><a href="https://openmetal.io/solutions/it-modernization/" target="_self" rel="noopener noreferrer" class="dropdown__link" description="Bring IT Modernization to your business" itemtype="link">IT Modernization</a></li><p>Bring IT Modernization to your business</p></div><div><li><a href="https://openmetal.io/solutions/on-demand-openstack/" target="_self" rel="noopener noreferrer" class="dropdown__link" description="Harness the power of OpenStack to build private clouds at any size, on-demand" itemtype="link">On-Demand OpenStack</a></li><p>Harness the power of OpenStack to build private clouds at any size, on-demand</p></div></div><div class="dropdown_menu_right"><div class="article"><img class="img-responsive" data-src="https://openmetal.io/wp-content/uploads/2021/09/The-OpenMetal-Blog-6-768x432.png"><li><a href="https://openmetal.io/resources/blog/why-your-business-should-be-using-a-private-cloud/" target="_self" rel="noopener noreferrer" class="dropdown__link" description="Moving Your Business to Private Cloud Companies are moving towards cloud adoption at record rates, yet there are still business owners ..." image_url="https://openmetal.io/wp-content/uploads/2021/09/The-OpenMetal-Blog-6-768x432.png" itemtype="article">Why Should your Business be Using a Private Cloud</a></li><p>Moving Your Business to Private Cloud Companies are moving towards cloud adoption at record rates, yet there are still business owners ...</p></div></div></ul></div></div><div class="custom-navbar-item-dropdown"><div class="navbar__item dropdown dropdown--hoverable"><a href="#" class="navbar__link" target="_self">Platform</a></div><div class="dropdown_menu_container"><ul class="dropdown__menu"><div class="dropdown_menu_left"><div><h3><a href="https://openmetal.io/platform/cloud-features/">Private Cloud Overview</a></h3><div><li><a href="https://openmetal.io/platform/cloud-features/cloud-compute/" target="_self" rel="noopener noreferrer" class="dropdown__link" description="" itemtype="link">Compute</a></li></div><div><li><a href="https://openmetal.io/platform/features/block-storage/" target="_self" rel="noopener noreferrer" class="dropdown__link" description="" itemtype="link">Block Storage</a></li></div><div><li><a href="https://openmetal.io/platform/features/networking/" target="_self" rel="noopener noreferrer" class="dropdown__link" description="" itemtype="link">Networking</a></li></div><div><li><a href="https://openmetal.io/platform/features/object-storage/" target="_self" rel="noopener noreferrer" class="dropdown__link" description="" itemtype="link">Object Storage</a></li></div></div><div><h3><a href="https://openmetal.io/solutions/on-demand-openstack-cloud">On-Demand OpenStack Overview</a></h3><div><li><a href="https://openmetal.io/solutions/openstack-public-cloud-providers/" target="_self" rel="noopener noreferrer" class="dropdown__link" description="" itemtype="link">For Public Cloud Providers</a></li></div><div><li><a href="https://openmetal.io/solutions/saas" target="_self" rel="noopener noreferrer" class="dropdown__link" description="" itemtype="link">For SAAS Companies</a></li></div></div><div><h3><a href="https://openmetal.io/platform/cloud-features/bare-metal/">Bare Metal Overview</a></h3></div></div><div class="dropdown_menu_right"><div class="article"><img class="img-responsive" data-src="https://openmetal.io/wp-content/uploads/2021/09/The-OpenMetal-Blog-3-768x432.png"><li><a href="https://openmetal.io/resources/blog/move-from-public-cloud-to-private-cloud/" target="_self" rel="noopener noreferrer" class="dropdown__link" description="Cloud Repatriation is the Choice of Cloud Professionals Public cloud users are finding out that for all their convenience and so-called ..." image_url="https://openmetal.io/wp-content/uploads/2021/09/The-OpenMetal-Blog-3-768x432.png" itemtype="article">Why Move from Public Cloud to Private Cloud</a></li><p>Cloud Repatriation is the Choice of Cloud Professionals Public cloud users are finding out that for all their convenience and so-called ...</p></div></div></ul></div></div><div class="custom-navbar-item-dropdown"><a href="https://openmetal.io/iaas-pricing/" target="_self" rel="noopener noreferrer" class="navbar__item navbar__link">Pricing</a></div><div class="custom-navbar-item-dropdown"><div class="navbar__item dropdown dropdown--hoverable"><a href="#" class="navbar__link" header="Resources" target="_self">Resources</a></div><div class="dropdown_menu_container"><ul class="dropdown__menu"><div class="dropdown_menu_left"><h2>Resources</h2><div><li><a href="https://openmetal.io/resources/" target="_self" rel="noopener noreferrer" class="dropdown__link" description="" itemtype="link">OpenMetal Blog</a></li></div><div><li><a href="https://openmetal.io/resources/cloud-industry-events/" target="_self" rel="noopener noreferrer" class="dropdown__link" description="" itemtype="link">Cloud Industry Events</a></li></div><div><li><a href="https://openmetal.io/resources/media-and-press/" target="_self" rel="noopener noreferrer" class="dropdown__link" description="" itemtype="link">Media &amp; Press</a></li></div><div><li><a href="https://openmetal.io/resources/sales-faq/" target="_self" rel="noopener noreferrer" class="dropdown__link" description="" itemtype="link">Sales FAQ</a></li></div><div><li><a href="https://central.openmetal.io/auth/sign-in" target="_self" rel="noopener noreferrer" class="dropdown__link" description="" itemtype="link">Login to OpenMetal Central</a></li></div></div><div class="dropdown_menu_right"><div class="article"><img class="img-responsive" data-src="https://openmetal.io/wp-content/uploads/2021/08/The-OpenMetal-Blog-4-768x432.png"><li><a href="https://openmetal.io/resources/blog/public-cloud-vs-private-cloud-cost-tipping-points/" target="_self" rel="noopener noreferrer" class="dropdown__link" description="It’s 2022, we know that a vast majority of organizations have adopted either a public cloud or private cloud. Within ..." image_url="https://openmetal.io/wp-content/uploads/2021/08/The-OpenMetal-Blog-4-768x432.png" itemtype="article">A Cost Tipping Point Guide for IT Professionals: Public vs Private Cloud</a></li><p>It’s 2022, we know that a vast majority of organizations have adopted either a public cloud or private cloud. Within ...</p></div></div></ul></div></div><div class="custom-navbar-item-dropdown"><div class="navbar__item dropdown dropdown--hoverable"><a href="#" class="navbar__link" header="Documentation" target="_self">Docs</a></div><div class="dropdown_menu_container"><ul class="dropdown__menu"><div class="dropdown_menu_left"><h2>Documentation</h2><div><li><a href="https://openmetal.io/docs/" target="_self" rel="noopener noreferrer" class="dropdown__link" description="" itemtype="link">Documentation Home</a></li></div><div><li><a href="https://openmetal.io/docs/manuals/operators-manual" target="_self" rel="noopener noreferrer" class="dropdown__link" description="" itemtype="link">OpenStack Operators Manual</a></li></div><div><li><a href="https://openmetal.io/docs/manuals/kubernetes-guides" target="_self" rel="noopener noreferrer" class="dropdown__link" description="" itemtype="link">Kubernetes</a></li></div><div><li><a href="https://openmetal.io/docs/manuals/users-manual" target="_self" rel="noopener noreferrer" class="dropdown__link" description="" itemtype="link">OpenStack Users Manual</a></li></div><div><li><a href="https://openmetal.io/docs/product-guides/private-cloud/" target="_self" rel="noopener noreferrer" class="dropdown__link" description="" itemtype="link">Private Cloud Users</a></li></div><div><li><a href="https://openmetal.io/docs/releases/" target="_self" rel="noopener noreferrer" class="dropdown__link" description="" itemtype="link">Product Release Updates</a></li></div></div><div class="dropdown_menu_right"><div class="article"><img class="img-responsive" data-src="https://openmetal.io/wp-content/uploads/2022/07/Product-Release-Update-v1.5-768x403.png"><li><a href="https://openmetal.io/docs/releases/omi-release-v1-5-new-software-integrations/" target="_self" rel="noopener noreferrer" class="dropdown__link" description="New OpenMetal Integrations with Datadog and SecurityTrails – July 14, 2022Datadog Integration Datadog is a monitoring and security platform for cloud ..." image_url="https://openmetal.io/wp-content/uploads/2022/07/Product-Release-Update-v1.5-768x403.png" itemtype="article">OMI Release V1.5: New Software Integrations</a></li><p>New OpenMetal Integrations with Datadog and SecurityTrails – July 14, 2022Datadog Integration Datadog is a monitoring and security platform for cloud ...</p></div></div></ul></div></div><div class="custom-navbar-item-dropdown"><div class="navbar__item dropdown dropdown--hoverable"><a href="#" class="navbar__link" header="About Us" target="_self">Company</a></div><div class="dropdown_menu_container"><ul class="dropdown__menu"><div class="dropdown_menu_left"><h2>About Us</h2><div><li><a href="https://openmetal.io/company/" target="_self" rel="noopener noreferrer" class="dropdown__link" description="" itemtype="link">About OpenMetal</a></li></div><div><li><a href="https://openmetal.io/company/guiding-principles/" target="_self" rel="noopener noreferrer" class="dropdown__link" description="" itemtype="link">Core Guiding Principles</a></li></div><div><li><a href="https://openmetal.io/about-openmetal/team-page/" target="_self" rel="noopener noreferrer" class="dropdown__link" description="" itemtype="link">The OpenMetal Team</a></li></div><div><li><a href="https://openmetal.io/about-openmetal/data-center-locations/" target="_self" rel="noopener noreferrer" class="dropdown__link" description="" itemtype="link">Data Center Locations</a></li></div><div><li><a href="https://openmetal.io/about-openmetal/network-connectivity/" target="_self" rel="noopener noreferrer" class="dropdown__link" description="" itemtype="link">Network Connectivity</a></li></div><div><li><a href="https://openmetal.io/about-openmetal/support-and-service-levels/" target="_self" rel="noopener noreferrer" class="dropdown__link" description="" itemtype="link">Support and Service Levels</a></li></div><div><li><a href="https://openmetal.io/company/contact-us/" target="_self" rel="noopener noreferrer" class="dropdown__link" description="" itemtype="link">Contact Us</a></li></div></div><div class="dropdown_menu_right"><div class="article"><img class="img-responsive" data-src="https://openmetal.io/wp-content/uploads/2022/03/The-OpenMetal-Blog-7-1-768x432.png"><li><a href="https://openmetal.io/resources/blog/openmetal-and-supermicro-success-story/" target="_self" rel="noopener noreferrer" class="dropdown__link" description="Success Story: InMotion Hosting and Supermicro Join Forces Supermicro recently published a success story describing how InMotion Hosting built an on-demand private cloud ..." image_url="https://openmetal.io/wp-content/uploads/2022/03/The-OpenMetal-Blog-7-1-768x432.png" itemtype="article">Success Story: OpenStack On-Demand Private Clouds in Less than an Hour</a></li><p>Success Story: InMotion Hosting and Supermicro Join Forces Supermicro recently published a success story describing how InMotion Hosting built an on-demand private cloud ...</p></div></div></ul></div></div></div><div class="navbar__items navbar__items--right"></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_lDyR"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_i9tI" type="button"></button><aside class="docSidebarContainer_0YBq"><div class="sidebar_a3j0"><nav class="menu thin-scrollbar menu_cyFh"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/manuals/">Documentation Home</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link hasHref_TwRn" href="/docs/manuals/operators-manual/">Operator&#x27;s Manual</a><button aria-label="Toggle the collapsible sidebar category &#x27;Operator&#x27;s Manual&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link hasHref_TwRn" href="/docs/manuals/users-manual/">User&#x27;s Manual</a><button aria-label="Toggle the collapsible sidebar category &#x27;User&#x27;s Manual&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link hasHref_TwRn" href="/docs/manuals/tutorials/">Tutorials</a><button aria-label="Toggle the collapsible sidebar category &#x27;Tutorials&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--active hasHref_TwRn" href="/docs/manuals/kubernetes-guides/">Kubernetes</a><button aria-label="Toggle the collapsible sidebar category &#x27;Kubernetes&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active hasHref_TwRn" tabindex="0" href="/docs/manuals/kubernetes-guides/installing-an-openshift-cluster-on-openstack">Installation</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/manuals/kubernetes-guides/installing-an-openshift-cluster-on-openstack">Installing an OpenShift cluster on OpenStack</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/manuals/kubernetes-guides/installing-a-rancher-cluster-on-openstack">Installing a Rancher managed cluster on OpenStack</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/manuals/kubernetes-guides/deploying-a-kubespray-cluster-to-openstack-using-terraform">Deploying a Kubespray cluster to OpenStack using Terraform</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/manuals/kubernetes-guides/installing-a-kops-cluster-on-openstack">Installing a kOps cluster on OpenStack</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/manuals/tutorials/magnum-and-kubernetes">Magnum and Kubernetes</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" tabindex="0" href="/docs/manuals/kubernetes-guides/installing-the-kubernetes-openstack-cloud-controller-manager">OpenStack Provider</a></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" href="/docs/manuals/engineers-notes/building-windows-cloud-images-on-openmetal">Engineer&#x27;s Notes</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link hasHref_TwRn" href="/docs/manuals/openmetal-central/">OpenMetal Central</a><button aria-label="Toggle the collapsible sidebar category &#x27;OpenMetal Central&#x27;" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav></div></aside><main class="docMainContainer_r8cw"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_zHA2"><div class="docItemContainer_oiyr"><article><div class="tocCollapsible_aw-L theme-doc-toc-mobile tocMobile_Tx6Y"><button type="button" class="clean-btn tocCollapsibleButton_zr6a">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Installing a kOps cluster on OpenStack</h1></header><p>This guide will walk you through the process of installing a Kubernetes cluster
on OpenStack using <a href="https://kops.sigs.k8s.io/" target="_blank" rel="noopener noreferrer">kOps - Kubernetes Operations</a>.
kOps is a command line tool, written in Go, and maintained by the Kubernetes
community allowing you to install Kubernetes clusters on a variety of cloud
providers.  kOps is a great option for those who want to install
Kubernetes clusters on OpenStack. It provides a lot of flexibility and allows
you to install a Kubernetes cluster that is highly available and secure.</p><p>At the time of writing this guide, October 2022, kOps for OpenStack is still
in beta. According to kOps, it is in good shape for production, but some
features are still missing.</p><h2 class="anchor anchorWithStickyNavbar_y2LR" id="objectives">Objectives<a class="hash-link" href="#objectives" title="Direct link to heading">​</a></h2><p>Our plan is to validate the installation of a v1.25.1 Kubernetes cluster on
OpenStack using kOps. We&#x27;ll be configuring it to use the OpenStack cloud provider
with Cinder as the storage provider with the OpenStack load balancer providing
ingress to the cluster.</p><p>This guide follows the official <a href="https://kops.sigs.k8s.io/getting_started/openstack/" target="_blank" rel="noopener noreferrer">kOps OpenStack guide</a>.
Please refer to it for more details. We&#x27;ll be running these steps from one of
our OpenMetal servers deployed with each new OpenStack instance. They can also
be run from a VM or a local machine.</p><h2 class="anchor anchorWithStickyNavbar_y2LR" id="prerequisites">Prerequisites<a class="hash-link" href="#prerequisites" title="Direct link to heading">​</a></h2><ul><li>An OpenStack cloud with the following services enabled:<ul><li>Keystone</li><li>Nova</li><li>Neutron</li><li>Cinder</li><li>Octavia</li></ul></li></ul><p>If you don&#x27;t have an OpenStack cloud, you can deploy a free trial using
<a href="https://central.openmetal.io" target="_blank" rel="noopener noreferrer">OpenMetal Central</a>.</p><h2 class="anchor anchorWithStickyNavbar_y2LR" id="prepare-openstack">Prepare OpenStack<a class="hash-link" href="#prepare-openstack" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithStickyNavbar_y2LR" id="setup-cli-tools">Setup CLI tools<a class="hash-link" href="#setup-cli-tools" title="Direct link to heading">​</a></h3><p>We&#x27;ll be using the OpenStack CLI tools to interact with the OpenStack cloud. If you
don&#x27;t have them installed, complete the following steps
to <a href="/docs/manuals/operators-manual/day-1/command-line/openstackclient">install the OpenStack CLI</a>.</p><h3 class="anchor anchorWithStickyNavbar_y2LR" id="create-a-project">Create a project<a class="hash-link" href="#create-a-project" title="Direct link to heading">​</a></h3><p>Let&#x27;s create a project for our cluster. Creating a project will allow us to
separate our cluster resources from other resources in the cloud. It will also
help us clean up our cluster resources when we&#x27;re done with them.</p><div class="codeBlockContainer_J+bg language-bash theme-code-block"><div class="codeBlockContent_csEI bash"><pre tabindex="0" class="prism-code language-bash codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">openstack project create --domain default --description </span><span class="token string" style="color:#e3116c">&quot;kOps Cluster&quot;</span><span class="token plain"> kops</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>We&#x27;ll add a user to the project. We&#x27;re adding the admin user to the project, but
if you&#x27;ve already created an OpenStack user, you should use that user instead.</p><div class="codeBlockContainer_J+bg language-bash theme-code-block"><div class="codeBlockContent_csEI bash"><pre tabindex="0" class="prism-code language-bash codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">openstack role </span><span class="token function" style="color:#d73a49">add</span><span class="token plain"> --project kops --user admin admin</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h3 class="anchor anchorWithStickyNavbar_y2LR" id="update-project-name">Update project name<a class="hash-link" href="#update-project-name" title="Direct link to heading">​</a></h3><p>Replace <code>&lt;project_id&gt;</code> with the ID of the project you created in the previous
step.</p><div class="codeBlockContainer_J+bg language-bash theme-code-block"><div class="codeBlockContent_csEI bash"><pre tabindex="0" class="prism-code language-bash codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token builtin class-name">export</span><span class="token plain"> </span><span class="token assign-left variable" style="color:#36acaa">OS_PROJECT_ID</span><span class="token operator" style="color:#393A34">=</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">project_id</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token builtin class-name">export</span><span class="token plain"> </span><span class="token assign-left variable" style="color:#36acaa">OS_PROJECT_NAME</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">kops</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h3 class="anchor anchorWithStickyNavbar_y2LR" id="create-swift-object-store">Create Swift object store<a class="hash-link" href="#create-swift-object-store" title="Direct link to heading">​</a></h3><p>This object store will be used to store your cluster configuration file.</p><div class="codeBlockContainer_J+bg language-bash theme-code-block"><div class="codeBlockContent_csEI bash"><pre tabindex="0" class="prism-code language-bash codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">openstack container create kops</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h3 class="anchor anchorWithStickyNavbar_y2LR" id="create-application-credentials">Create application credentials<a class="hash-link" href="#create-application-credentials" title="Direct link to heading">​</a></h3><p>The credentials are saved as a secret in the cluster and used by kOps to interact
with the OpenStack cloud. Your personal credentials could also be used, but use
of application credentials is recommended.</p><div class="codeBlockContainer_J+bg language-bash theme-code-block"><div class="codeBlockContent_csEI bash"><pre tabindex="0" class="prism-code language-bash codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">openstack application credential create --description </span><span class="token string" style="color:#e3116c">&quot;kOps&quot;</span><span class="token plain"> kops</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h3 class="anchor anchorWithStickyNavbar_y2LR" id="create-credentials-file">Create Credentials file<a class="hash-link" href="#create-credentials-file" title="Direct link to heading">​</a></h3><p>Create a file named <code>app-creds.sh</code></p><ul><li>Replace <code>&lt;ip-address&gt;</code> with the IP address of your OpenStack cloud. If you dont
know the URL to your Keystone service, you can find it in the OpenStack dashboard
or by running <code>openstack endpoint list</code>.</li><li>Replace <code>&lt;secret-id&gt;</code> with the id from the previous step.</li><li>Replace <code>&lt;secret&gt;</code> with the secret from the previous step.</li></ul><div class="codeBlockContainer_J+bg language-bash theme-code-block"><div class="codeBlockContent_csEI bash"><pre tabindex="0" class="prism-code language-bash codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token builtin class-name">export</span><span class="token plain"> </span><span class="token assign-left variable" style="color:#36acaa">OS_AUTH_TYPE</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">v3applicationcredential</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token builtin class-name">export</span><span class="token plain"> </span><span class="token assign-left variable" style="color:#36acaa">OS_AUTH_URL</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">http://</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">ip-address</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain">:5000</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token builtin class-name">export</span><span class="token plain"> </span><span class="token assign-left variable" style="color:#36acaa">OS_IDENTITY_API_VERSION</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">3</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token builtin class-name">export</span><span class="token plain"> </span><span class="token assign-left variable" style="color:#36acaa">OS_REGION_NAME</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;iad3&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token builtin class-name">export</span><span class="token plain"> </span><span class="token assign-left variable" style="color:#36acaa">OS_INTERFACE</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">public</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token builtin class-name">export</span><span class="token plain"> </span><span class="token assign-left variable" style="color:#36acaa">OS_APPLICATION_CREDENTIAL_ID</span><span class="token operator" style="color:#393A34">=</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">secret-id</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token builtin class-name">export</span><span class="token plain"> </span><span class="token assign-left variable" style="color:#36acaa">OS_APPLICATION_CREDENTIAL_SECRET</span><span class="token operator" style="color:#393A34">=</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">secret</span><span class="token operator" style="color:#393A34">&gt;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h3 class="anchor anchorWithStickyNavbar_y2LR" id="source-in-the-credentials">Source in the credentials<a class="hash-link" href="#source-in-the-credentials" title="Direct link to heading">​</a></h3><p>Next, we&#x27;ll source in the credentials file. If you&#x27;re using the same shell that
you used for the CLI, you&#x27;ll need to log out and back in before sourcing the
credentials, as some environment variables set when using your personal credentials
can conflict with those for the application credentials.</p><div class="codeBlockContainer_J+bg language-bash theme-code-block"><div class="codeBlockContent_csEI bash"><pre tabindex="0" class="prism-code language-bash codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token builtin class-name">exit</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><blockquote><p>Note: If you wish to retain your current shell the following command will
extract all OpenStack related variables from the environment with <code>env</code> and
unset them:</p><div class="codeBlockContainer_J+bg language-bash theme-code-block"><div class="codeBlockContent_csEI bash"><pre tabindex="0" class="prism-code language-bash codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token builtin class-name">unset</span><span class="token plain"> </span><span class="token variable" style="color:#36acaa">$(</span><span class="token variable function" style="color:#d73a49">env</span><span class="token variable" style="color:#36acaa"> </span><span class="token variable operator" style="color:#393A34">|</span><span class="token variable" style="color:#36acaa"> </span><span class="token variable function" style="color:#d73a49">awk</span><span class="token variable" style="color:#36acaa"> -F</span><span class="token variable string" style="color:#e3116c">&#x27;=&#x27;</span><span class="token variable" style="color:#36acaa"> </span><span class="token variable string" style="color:#e3116c">&#x27;/OS_/ {print </span><span class="token variable string variable" style="color:#36acaa">$1</span><span class="token variable string" style="color:#e3116c">}&#x27;</span><span class="token variable" style="color:#36acaa"> </span><span class="token variable operator" style="color:#393A34">|</span><span class="token variable" style="color:#36acaa"> </span><span class="token variable function" style="color:#d73a49">tr</span><span class="token variable" style="color:#36acaa"> </span><span class="token variable string" style="color:#e3116c">&quot;</span><span class="token variable string entity" style="color:#36acaa">\n</span><span class="token variable string" style="color:#e3116c">&quot;</span><span class="token variable" style="color:#36acaa"> </span><span class="token variable string" style="color:#e3116c">&quot; &quot;</span><span class="token variable" style="color:#36acaa">)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div></blockquote><p>Log back in.</p><div class="codeBlockContainer_J+bg language-bash theme-code-block"><div class="codeBlockContent_csEI bash"><pre tabindex="0" class="prism-code language-bash codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token builtin class-name">source</span><span class="token plain"> app-creds.sh</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h2 class="anchor anchorWithStickyNavbar_y2LR" id="deploy-the-kubernetes-cluster">Deploy the Kubernetes cluster<a class="hash-link" href="#deploy-the-kubernetes-cluster" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithStickyNavbar_y2LR" id="install-kops-cli">Install kOps CLI<a class="hash-link" href="#install-kops-cli" title="Direct link to heading">​</a></h3><div class="codeBlockContainer_J+bg language-bash theme-code-block"><div class="codeBlockContent_csEI bash"><pre tabindex="0" class="prism-code language-bash codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">curl</span><span class="token plain"> -Lo kops https://github.com/kubernetes/kops/releases/download/v1.25.1/kops-linux-amd64</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><div class="codeBlockContainer_J+bg language-bash theme-code-block"><div class="codeBlockContent_csEI bash"><pre tabindex="0" class="prism-code language-bash codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">chmod</span><span class="token plain"> +x kops</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><div class="codeBlockContainer_J+bg language-bash theme-code-block"><div class="codeBlockContent_csEI bash"><pre tabindex="0" class="prism-code language-bash codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">sudo</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">mv</span><span class="token plain"> kops /usr/local/bin/kops</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h3 class="anchor anchorWithStickyNavbar_y2LR" id="generate-ssh-key">Generate SSH key<a class="hash-link" href="#generate-ssh-key" title="Direct link to heading">​</a></h3><p>This key will be used to access the Kubernetes nodes.</p><div class="codeBlockContainer_J+bg language-bash theme-code-block"><div class="codeBlockContent_csEI bash"><pre tabindex="0" class="prism-code language-bash codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">ssh-keygen -t ed25519 -N </span><span class="token string" style="color:#e3116c">&#x27;&#x27;</span><span class="token plain"> -f ~/.ssh/id_kops</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h3 class="anchor anchorWithStickyNavbar_y2LR" id="set-state-store">Set state store<a class="hash-link" href="#set-state-store" title="Direct link to heading">​</a></h3><p>KOps will store the cluster configuration file in a Swift object store. Use the
one you created earlier as the state store.</p><div class="codeBlockContainer_J+bg language-bash theme-code-block"><div class="codeBlockContent_csEI bash"><pre tabindex="0" class="prism-code language-bash codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token builtin class-name">export</span><span class="token plain"> </span><span class="token assign-left variable" style="color:#36acaa">KOPS_STATE_STORE</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">swift://kops</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h3 class="anchor anchorWithStickyNavbar_y2LR" id="install-kubectl">Install Kubectl<a class="hash-link" href="#install-kubectl" title="Direct link to heading">​</a></h3><div class="codeBlockContainer_J+bg language-bash theme-code-block"><div class="codeBlockContent_csEI bash"><pre tabindex="0" class="prism-code language-bash codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">curl</span><span class="token plain"> -LO https://storage.googleapis.com/kubernetes-release/release/v1.25.1/bin/linux/amd64/kubectl</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><div class="codeBlockContainer_J+bg language-bash theme-code-block"><div class="codeBlockContent_csEI bash"><pre tabindex="0" class="prism-code language-bash codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">sudo</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">install</span><span class="token plain"> -o root -g root -m 0755 kubectl /usr/local/bin/kubectl</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h3 class="anchor anchorWithStickyNavbar_y2LR" id="create-cluster-configuration">Create cluster configuration<a class="hash-link" href="#create-cluster-configuration" title="Direct link to heading">​</a></h3><p>The following command will create a cluster configuration file. It will be stored
in the Swift object store we created in a previous step. You may need to pull
some information from your OpenStack cloud.</p><p>OpenStack Values of note:</p><ul><li><code>--image</code>: Operating system image<ul><li>Found by running <code>openstack image list</code></li><li>Supported operating systems: <a href="https://github.com/kubernetes/kops/blob/v1.25.1/docs/operations/images.md" target="_blank" rel="noopener noreferrer">kOps supported operating systems</a>.</li></ul></li><li><code>--node-size</code>: Instance flavor<ul><li>Found by running <code>openstack flavor list</code>.</li><li>Custom flavors can also be created in the OpenStack dashboard.</li></ul></li><li><code>--zones</code>: Availability zone<ul><li>Found by running <code>openstack availability zone list</code>.</li></ul></li><li><code>--os-ext-net</code>: External network<ul><li>Found by running <code>openstack network list --external</code>.</li></ul></li></ul><div class="codeBlockContainer_J+bg language-bash theme-code-block"><div class="codeBlockContent_csEI bash"><pre tabindex="0" class="prism-code language-bash codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">$ kops create cluster </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --cloud openstack </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --name my-cluster.k8s.local </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --state </span><span class="token variable" style="color:#36acaa">${KOPS_STATE_STORE}</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --zones nova </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --network-cidr </span><span class="token number" style="color:#36acaa">10.1</span><span class="token plain">.0.0/24 </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --image </span><span class="token string" style="color:#e3116c">&quot;Ubuntu 20.04 (focal-amd64)&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --master-count</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">1</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --node-count</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">2</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --os-octavia</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">true </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --node-size m1.medium </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --master-size m1.medium </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --etcd-storage-type __DEFAULT__ </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --api-loadbalancer-type public </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --topology private </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --ssh-public-key ~/.ssh/id_kops.pub </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --networking flannel </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --os-ext-net External</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">---Output truncated---</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Must specify --yes to apply changes</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Cluster configuration has been created.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Suggestions:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> * list clusters with: kops get cluster</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> * edit this cluster with: kops edit cluster my-cluster.k8s.local</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> * edit your node instance group: kops edit ig --name</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">my-cluster.k8s.local nodes-nova</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> * edit your master instance group: kops edit ig --name</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">my-cluster.k8s.local master-nova-1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Finally configure your cluster with: kops update cluster --name my-cluster.k8s.local --yes --admin</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h3 class="anchor anchorWithStickyNavbar_y2LR" id="update-cluster-configuration">Update cluster configuration<a class="hash-link" href="#update-cluster-configuration" title="Direct link to heading">​</a></h3><p>Now that we have a cluster configuration file, we can provide additional
configuration options.</p><blockquote><p>For an extensive list of options on the Cluster resource see: <a href="https://kops.sigs.k8s.io/cluster_spec/" target="_blank" rel="noopener noreferrer">Cluster Spec</a>.</p></blockquote><p>For our example, we&#x27;ll override a setting that will otherwise cause the nodes
to fail setup. This is a known issue with Ubuntu images and kubeadm.</p><p>For more information see:</p><ul><li><a href="https://github.com/kubernetes/kubeadm/issues/610" target="_blank" rel="noopener noreferrer">ERROR Swap: running with swap on is not supported. Please disable swap</a>
or</li><li><a href="https://github.com/kubernetes/enhancements/issues/2400" target="_blank" rel="noopener noreferrer">Node swap support</a>.</li></ul><p>We&#x27;ll suppress the error by setting <code>kubelet.failSwapOn</code> to <code>false</code>. For
production use cases we recommend disabling swap.</p><div class="codeBlockContainer_J+bg language-bash theme-code-block"><div class="codeBlockContent_csEI bash"><pre tabindex="0" class="prism-code language-bash codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">kops edit cluster my-cluster.k8s.local</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><div class="codeBlockContainer_J+bg language-yaml theme-code-block"><div class="codeBlockContent_csEI yaml"><pre tabindex="0" class="prism-code language-yaml codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">kubelet</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">failSwapOn</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean important" style="color:#36acaa">false</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><blockquote><p><strong>Note</strong>: You should already have a kubelet section.</p></blockquote><h3 class="anchor anchorWithStickyNavbar_y2LR" id="deploy-configuration">Deploy configuration<a class="hash-link" href="#deploy-configuration" title="Direct link to heading">​</a></h3><div class="codeBlockContainer_J+bg language-bash theme-code-block"><div class="codeBlockContent_csEI bash"><pre tabindex="0" class="prism-code language-bash codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain"> kops update cluster --name my-cluster.k8s.local --yes --admin</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h3 class="anchor anchorWithStickyNavbar_y2LR" id="validate-cluster">Validate Cluster<a class="hash-link" href="#validate-cluster" title="Direct link to heading">​</a></h3><p>Our small 3-node cluster took about 8 minutes to deploy. If your deployment
is larger, it will take longer. Run the following command to watch the deployment
status.</p><div class="codeBlockContainer_J+bg language-bash theme-code-block"><div class="codeBlockContent_csEI bash"><pre tabindex="0" class="prism-code language-bash codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">$ kops validate cluster --wait 10m</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">---Output truncated---</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Pod     kube-system/csi-cinder-controllerplugin-84b9c4955-dmjqv system-cluster-critical pod </span><span class="token string" style="color:#e3116c">&quot;csi-cinder-controllerplugin-84b9c4955-dmjqv&quot;</span><span class="token plain"> is pending</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Validation Failed</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">W1010 </span><span class="token number" style="color:#36acaa">22</span><span class="token plain">:13:19.203438 </span><span class="token number" style="color:#36acaa">2645280</span><span class="token plain"> validate_cluster.go:232</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">will retry</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">: cluster not yet healthy</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token environment constant" style="color:#36acaa">INSTANCE</span><span class="token plain"> </span><span class="token environment constant" style="color:#36acaa">GROUPS</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">NAME            ROLE    MACHINETYPE     MIN     MAX     SUBNETS</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">master-nova     Master  m1.medium       </span><span class="token number" style="color:#36acaa">1</span><span class="token plain">       </span><span class="token number" style="color:#36acaa">1</span><span class="token plain">       nova</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">nodes-nova      Node    m1.medium       </span><span class="token number" style="color:#36acaa">2</span><span class="token plain">       </span><span class="token number" style="color:#36acaa">2</span><span class="token plain">       nova</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">NODE STATUS</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">NAME                    ROLE    READY</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">master-nova-d2gurm      master  True</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">nodes-nova-7oi4el       node    True</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">nodes-nova-ncdj6g       node    True</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">VALIDATION ERRORS</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">KIND    NAME                                    MESSAGE</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Pod     kube-system/coredns-77bcddd996-jflxd    system-cluster-critical pod </span><span class="token string" style="color:#e3116c">&quot;coredns-77bcddd996-jflxd&quot;</span><span class="token plain"> is pending</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Validation Failed</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">W1010 </span><span class="token number" style="color:#36acaa">22</span><span class="token plain">:13:30.376327 </span><span class="token number" style="color:#36acaa">2645280</span><span class="token plain"> validate_cluster.go:232</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">will retry</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">: cluster not yet healthy</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token environment constant" style="color:#36acaa">INSTANCE</span><span class="token plain"> </span><span class="token environment constant" style="color:#36acaa">GROUPS</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">NAME            ROLE    MACHINETYPE     MIN     MAX     SUBNETS</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">master-nova     Master  m1.medium       </span><span class="token number" style="color:#36acaa">1</span><span class="token plain">       </span><span class="token number" style="color:#36acaa">1</span><span class="token plain">       nova</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">nodes-nova      Node    m1.medium       </span><span class="token number" style="color:#36acaa">2</span><span class="token plain">       </span><span class="token number" style="color:#36acaa">2</span><span class="token plain">       nova</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">NODE STATUS</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">NAME                    ROLE    READY</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">master-nova-d2gurm      master  True</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">nodes-nova-7oi4el       node    True</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">nodes-nova-ncdj6g       node    True</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Your cluster my-cluster.k8s.local is ready</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h2 class="anchor anchorWithStickyNavbar_y2LR" id="test-your-cluster">Test your cluster<a class="hash-link" href="#test-your-cluster" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithStickyNavbar_y2LR" id="get-all-pods">Get all pods<a class="hash-link" href="#get-all-pods" title="Direct link to heading">​</a></h3><div class="codeBlockContainer_J+bg language-bash theme-code-block"><div class="codeBlockContent_csEI bash"><pre tabindex="0" class="prism-code language-bash codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">kubectl get pods --all-namespaces</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>Output</p><div class="codeBlockContainer_J+bg language-bash theme-code-block"><div class="codeBlockContent_csEI bash"><pre tabindex="0" class="prism-code language-bash codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">root@comfortable-lamprey kops</span><span class="token punctuation" style="color:#393A34">]</span><span class="token comment" style="color:#999988;font-style:italic"># kubectl get pods -A</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">NAMESPACE      NAME                                          READY   STATUS    RESTARTS        AGE</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">kube-flannel   kube-flannel-ds-7tkwv                         </span><span class="token number" style="color:#36acaa">1</span><span class="token plain">/1     Running   </span><span class="token number" style="color:#36acaa">0</span><span class="token plain">               4m</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">kube-flannel   kube-flannel-ds-95qmb                         </span><span class="token number" style="color:#36acaa">1</span><span class="token plain">/1     Running   </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">2m9s ago</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">    3m2s</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">kube-flannel   kube-flannel-ds-k4vcs                         </span><span class="token number" style="color:#36acaa">1</span><span class="token plain">/1     Running   </span><span class="token number" style="color:#36acaa">0</span><span class="token plain">               3m4s</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">kube-system    coredns-77bcddd996-978n5                      </span><span class="token number" style="color:#36acaa">1</span><span class="token plain">/1     Running   </span><span class="token number" style="color:#36acaa">0</span><span class="token plain">               3m59s</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">kube-system    coredns-77bcddd996-jflxd                      </span><span class="token number" style="color:#36acaa">1</span><span class="token plain">/1     Running   </span><span class="token number" style="color:#36acaa">0</span><span class="token plain">               2m19s</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">kube-system    coredns-autoscaler-975545559-rl2zl            </span><span class="token number" style="color:#36acaa">1</span><span class="token plain">/1     Running   </span><span class="token number" style="color:#36acaa">0</span><span class="token plain">               3m59s</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">kube-system    csi-cinder-controllerplugin-84b9c4955-dmjqv   </span><span class="token number" style="color:#36acaa">5</span><span class="token plain">/5     Running   </span><span class="token number" style="color:#36acaa">0</span><span class="token plain">               3m59s</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">kube-system    csi-cinder-nodeplugin-b24tf                   </span><span class="token number" style="color:#36acaa">3</span><span class="token plain">/3     Running   </span><span class="token number" style="color:#36acaa">0</span><span class="token plain">               3m2s</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">kube-system    csi-cinder-nodeplugin-pbncg                   </span><span class="token number" style="color:#36acaa">3</span><span class="token plain">/3     Running   </span><span class="token number" style="color:#36acaa">0</span><span class="token plain">               3m59s</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">kube-system    csi-cinder-nodeplugin-pmzb2                   </span><span class="token number" style="color:#36acaa">3</span><span class="token plain">/3     Running   </span><span class="token number" style="color:#36acaa">0</span><span class="token plain">               3m4s</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">kube-system    dns-controller-6c8954774c-n287p               </span><span class="token number" style="color:#36acaa">1</span><span class="token plain">/1     Running   </span><span class="token number" style="color:#36acaa">0</span><span class="token plain">               3m59s</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">kube-system    etcd-manager-events-master-nova-d2gurm        </span><span class="token number" style="color:#36acaa">1</span><span class="token plain">/1     Running   </span><span class="token number" style="color:#36acaa">0</span><span class="token plain">               3m38s</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">kube-system    etcd-manager-main-master-nova-d2gurm          </span><span class="token number" style="color:#36acaa">1</span><span class="token plain">/1     Running   </span><span class="token number" style="color:#36acaa">0</span><span class="token plain">               2m54s</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">kube-system    kops-controller-ltf7f                         </span><span class="token number" style="color:#36acaa">1</span><span class="token plain">/1     Running   </span><span class="token number" style="color:#36acaa">0</span><span class="token plain">               4m</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">kube-system    kube-apiserver-master-nova-d2gurm             </span><span class="token number" style="color:#36acaa">2</span><span class="token plain">/2     Running   </span><span class="token number" style="color:#36acaa">2</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">5m ago</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">      3m15s</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">kube-system    kube-controller-manager-master-nova-d2gurm    </span><span class="token number" style="color:#36acaa">1</span><span class="token plain">/1     Running   </span><span class="token number" style="color:#36acaa">4</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">4m59s ago</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">   4m12s</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">kube-system    kube-proxy-master-nova-d2gurm                 </span><span class="token number" style="color:#36acaa">1</span><span class="token plain">/1     Running   </span><span class="token number" style="color:#36acaa">0</span><span class="token plain">               3m25s</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">kube-system    kube-proxy-nodes-nova-7oi4el                  </span><span class="token number" style="color:#36acaa">1</span><span class="token plain">/1     Running   </span><span class="token number" style="color:#36acaa">0</span><span class="token plain">               90s</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">kube-system    kube-proxy-nodes-nova-ncdj6g                  </span><span class="token number" style="color:#36acaa">1</span><span class="token plain">/1     Running   </span><span class="token number" style="color:#36acaa">0</span><span class="token plain">               2m16s</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">kube-system    kube-scheduler-master-nova-d2gurm             </span><span class="token number" style="color:#36acaa">1</span><span class="token plain">/1     Running   </span><span class="token number" style="color:#36acaa">0</span><span class="token plain">               3m40s</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">kube-system    openstack-cloud-provider-hlhzx                </span><span class="token number" style="color:#36acaa">1</span><span class="token plain">/1     Running   </span><span class="token number" style="color:#36acaa">0</span><span class="token plain">               3m59s</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h3 class="anchor anchorWithStickyNavbar_y2LR" id="verify-openstack-cloud-provider-services">Verify OpenStack cloud provider services<a class="hash-link" href="#verify-openstack-cloud-provider-services" title="Direct link to heading">​</a></h3><p>Our installation allows you to provision volumes and load balancers. If you want
to validate the installation check out our other guides.</p><ul><li><a href="/docs/manuals/kubernetes-guides/installing-the-kubernetes-openstack-cloud-controller-manager#verify">Validate Load Balancer (Octavia)</a></li><li><a href="/docs/manuals/kubernetes-guides/configuring-openstack-cinder-with-kubernetes#verify">Validate Storage Class (Cinder)</a></li></ul><h2 class="anchor anchorWithStickyNavbar_y2LR" id="troubleshooting">Troubleshooting<a class="hash-link" href="#troubleshooting" title="Direct link to heading">​</a></h2><p>The kOps documentation provides helpful troubleshooting steps for common issues:
<a href="https://kops.sigs.k8s.io/operations/troubleshoot/" target="_blank" rel="noopener noreferrer">Troubleshooting kOps clusters</a>.</p><p>If you need to start over you can delete your cluster with the following command:</p><div class="codeBlockContainer_J+bg language-bash theme-code-block"><div class="codeBlockContent_csEI bash"><pre tabindex="0" class="prism-code language-bash codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">kops delete cluster --name my-cluster.k8s.local --yes</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/openmetalio/openmetal-docs/blob/main/docs/kubernetes-guides/deployment/kops.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_mS5F" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_mt2f"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/manuals/kubernetes-guides/deploying-a-kubespray-cluster-to-openstack-using-terraform"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Deploying a Kubespray cluster to OpenStack using Terraform</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/manuals/tutorials/magnum-and-kubernetes"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Magnum and Kubernetes</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_vrFS thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#objectives" class="table-of-contents__link toc-highlight">Objectives</a></li><li><a href="#prerequisites" class="table-of-contents__link toc-highlight">Prerequisites</a></li><li><a href="#prepare-openstack" class="table-of-contents__link toc-highlight">Prepare OpenStack</a><ul><li><a href="#setup-cli-tools" class="table-of-contents__link toc-highlight">Setup CLI tools</a></li><li><a href="#create-a-project" class="table-of-contents__link toc-highlight">Create a project</a></li><li><a href="#update-project-name" class="table-of-contents__link toc-highlight">Update project name</a></li><li><a href="#create-swift-object-store" class="table-of-contents__link toc-highlight">Create Swift object store</a></li><li><a href="#create-application-credentials" class="table-of-contents__link toc-highlight">Create application credentials</a></li><li><a href="#create-credentials-file" class="table-of-contents__link toc-highlight">Create Credentials file</a></li><li><a href="#source-in-the-credentials" class="table-of-contents__link toc-highlight">Source in the credentials</a></li></ul></li><li><a href="#deploy-the-kubernetes-cluster" class="table-of-contents__link toc-highlight">Deploy the Kubernetes cluster</a><ul><li><a href="#install-kops-cli" class="table-of-contents__link toc-highlight">Install kOps CLI</a></li><li><a href="#generate-ssh-key" class="table-of-contents__link toc-highlight">Generate SSH key</a></li><li><a href="#set-state-store" class="table-of-contents__link toc-highlight">Set state store</a></li><li><a href="#install-kubectl" class="table-of-contents__link toc-highlight">Install Kubectl</a></li><li><a href="#create-cluster-configuration" class="table-of-contents__link toc-highlight">Create cluster configuration</a></li><li><a href="#update-cluster-configuration" class="table-of-contents__link toc-highlight">Update cluster configuration</a></li><li><a href="#deploy-configuration" class="table-of-contents__link toc-highlight">Deploy configuration</a></li><li><a href="#validate-cluster" class="table-of-contents__link toc-highlight">Validate Cluster</a></li></ul></li><li><a href="#test-your-cluster" class="table-of-contents__link toc-highlight">Test your cluster</a><ul><li><a href="#get-all-pods" class="table-of-contents__link toc-highlight">Get all pods</a></li><li><a href="#verify-openstack-cloud-provider-services" class="table-of-contents__link toc-highlight">Verify OpenStack cloud provider services</a></li></ul></li><li><a href="#troubleshooting" class="table-of-contents__link toc-highlight">Troubleshooting</a></li></ul></div></div></div></div></main></div></div><footer class="footer"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Products</div><ul class="footer__items"><li class="footer__item"><a href="https://openmetal.io/products/private-cloud/hosted/" target="_self" rel="noopener noreferrer" class="footer__link-item"><span>On-Demand Private Cloud</span></a></li><li class="footer__item"><a href="https://openmetal.io/products/large-iaas-deployments/" target="_self" rel="noopener noreferrer" class="footer__link-item"><span>Large Deployments</span></a></li><li class="footer__item"><a href="https://openmetal.io/products/private-pods/" target="_self" rel="noopener noreferrer" class="footer__link-item"><span>Private Pods</span></a></li></ul></div><div class="col footer__col"><div class="footer__title">Solutions</div><ul class="footer__items"><li class="footer__item"><a href="https://openmetal.io/solutions/saas/" target="_self" rel="noopener noreferrer" class="footer__link-item"><span>SaaS Cloud</span></a></li><li class="footer__item"><a href="https://openmetal.io/solutions/it-modernization/" target="_self" rel="noopener noreferrer" class="footer__link-item"><span>IT Modernization</span></a></li><li class="footer__item"><a href="https://openmetal.io/solutions/openstack-public-cloud-providers/" target="_self" rel="noopener noreferrer" class="footer__link-item"><span>Public Cloud Providers</span></a></li><li class="footer__item"><a href="https://openmetal.io/solutions/on-demand-openstack-cloud/" target="_self" rel="noopener noreferrer" class="footer__link-item"><span>On-Demand OpenStack</span></a></li></ul></div><div class="col footer__col"><div class="footer__title">Platform</div><ul class="footer__items"><li class="footer__item"><a href="https://openmetal.io/platform/openstack-services/" target="_self" rel="noopener noreferrer" class="footer__link-item"><span>OpenStack Services</span></a></li><li class="footer__item"><a href="https://openmetal.io/platform/features/" target="_self" rel="noopener noreferrer" class="footer__link-item"><span>Features and Components</span></a></li><li class="footer__item"><a href="https://openmetal.io/platform/locations/" target="_self" rel="noopener noreferrer" class="footer__link-item"><span>Global Locations</span></a></li></ul></div><div class="col footer__col"><div class="footer__title">Pricing</div><ul class="footer__items"><li class="footer__item"><a href="https://openmetal.io/pricing/" target="_self" rel="noopener noreferrer" class="footer__link-item"><span>On-Demand Pricing</span></a></li><li class="footer__item"><a href="https://openmetal.io/resources/sales-faq/" target="_self" rel="noopener noreferrer" class="footer__link-item"><span>General Sales FAQ</span></a></li><li class="footer__item"><a href="https://openmetal.io/free-trial/" target="_self" rel="noopener noreferrer" class="footer__link-item"><span>Free Trial</span></a></li><li class="footer__item"><a href="https://openmetal.io/schedule-meeting/" target="_self" rel="noopener noreferrer" class="footer__link-item"><span>Schedule a Meeting</span></a></li></ul></div><div class="col footer__col"><div class="footer__title">Resources</div><ul class="footer__items"><li class="footer__item"><a href="https://openmetal.io/blog/" target="_self" rel="noopener noreferrer" class="footer__link-item"><span>OpenMetal Blog</span></a></li><li class="footer__item"><a href="https://openmetal.io/resources/cloud-industry-events/" target="_self" rel="noopener noreferrer" class="footer__link-item"><span>Cloud Industry Events</span></a></li><li class="footer__item"><a href="https://openmetal.io/resources/sales-faq/" target="_self" rel="noopener noreferrer" class="footer__link-item"><span>Sales FAQ</span></a></li><li class="footer__item"><a href="https://central.openmetal.io/auth/sign-in" target="_self" rel="noopener noreferrer" class="footer__link-item"><span>Login to OpenMetal Central</span></a></li></ul></div><div class="col footer__col"><div class="footer__title">Documentation</div><ul class="footer__items"><li class="footer__item"><a href="https://openmetal.io/docs/" target="_self" rel="noopener noreferrer" class="footer__link-item"><span>Documentation Home</span></a></li><li class="footer__item"><a href="https://openmetal.io/docs/manuals/operators-manual" target="_self" rel="noopener noreferrer" class="footer__link-item"><span>OpenStack Operator’s Manual</span></a></li><li class="footer__item"><a href="https://openmetal.io/docs/manuals/users-manual" target="_self" rel="noopener noreferrer" class="footer__link-item"><span>OpenStack User’s Manual</span></a></li><li class="footer__item"><a href="https://openmetal.io/docs/product-guides/private-cloud/" target="_self" rel="noopener noreferrer" class="footer__link-item"><span>Private Cloud Users</span></a></li><li class="footer__item"><a href="https://openmetal.io/docs/manuals/kubernetes-guides" target="_self" rel="noopener noreferrer" class="footer__link-item"><span>Kubernetes</span></a></li><li class="footer__item"><a href="https://openmetal.io/docs/releases/" target="_self" rel="noopener noreferrer" class="footer__link-item"><span>Product Release Updates</span></a></li></ul></div><div class="col footer__col"><div class="footer__title">Company</div><ul class="footer__items"><li class="footer__item"><a href="https://openmetal.io/company/" target="_self" rel="noopener noreferrer" class="footer__link-item"><span>About OpenMetal</span></a></li><li class="footer__item"><a href="https://openmetal.io/company/guiding-principles/" target="_self" rel="noopener noreferrer" class="footer__link-item"><span>Core Guiding Principles</span></a></li><li class="footer__item"><a href="https://openmetal.io/company/contact-us/" target="_self" rel="noopener noreferrer" class="footer__link-item"><span>Contact Us</span></a></li></ul></div><div class="col footer__col"><div class="footer__title">Legal</div><ul class="footer__items"><li class="footer__item"><a href="https://openmetal.io/company/legal/" target="_self" rel="noopener noreferrer" class="footer__link-item"><span>Terms of Service</span></a></li><li class="footer__item"><a href="https://openmetal.io/company/legal/privacy-policy/" target="_self" rel="noopener noreferrer" class="footer__link-item"><span>Privacy Policy</span></a></li><li class="footer__item"><a href="https://openmetal.io/company/legal/donotsellmypersonaldata/" target="_self" rel="noopener noreferrer" class="footer__link-item"><span>Do Not Sell My Personal Data</span></a></li><li class="footer__item"><a href="https://openmetal.io/company/legal/accessibility-statement/" target="_self" rel="noopener noreferrer" class="footer__link-item"><span>Accessibility Statement</span></a></li><li class="footer__item"><a href="https://openmetal.io/company/legal/legal-inquiries/" target="_self" rel="noopener noreferrer" class="footer__link-item"><span>Legal Inquiries and DMCA</span></a></li></ul></div></div><div class="footer__bottom text--center"><div class="margin-bottom--sm"><img src="https://inmotionhosting.github.io/static-assets/logo/open-metal/medium.png" alt="Openmetal Logo" class="themedImage_TMUO themedImage--light_4Vu1 footer__logo"><img src="https://inmotionhosting.github.io/static-assets/logo/open-metal/medium.png" alt="Openmetal Logo" class="themedImage_TMUO themedImage--dark_uzRr footer__logo"></div><div class="footer__copyright"><strong>2022 © OpenMetal, a division of <a href="https://www.inmotionhosting.com" target="_blank" rel="noopener">InMotion Hosting</a>.  All rights reserved.</strong></div></div><div class="footerContact_lPaK"><p>555 S. Independence Blvd, Virginia Beach, VA 23452</p><div class="contactLinks_EKti"><a href="tel:+18777289664">877-7-BUY-OMI</a><a href="mailto:sales@openmetal.io">sales@openmetal.io</a><a href="https://openmetal.io/schedule-meeting/">Schedule a Demo</a></div><p><strong>OpenMetal Central:</strong> <a target="_blank" href="https://central.openmetal.io/auth/sign-in">Login</a> or <a target="_blank" href="https://central.openmetal.io/sign-up">Create New Account</a></p></div></div></footer></div>
<script src="/docs/manuals/assets/js/runtime~main.f467977d.js"></script>
<script src="/docs/manuals/assets/js/main.1e5d0463.js"></script>
</body>
</html>