<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-kubernetes-guides/deployment/rancher">
<head>
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.2.0">
<title data-rh="true">Installing a Rancher managed cluster on OpenStack | OpenMetal Docs</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://openmetal.io/docs/manuals/kubernetes-guides/installing-a-rancher-cluster-on-openstack"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="twitter:site" content="@openmetalio"><meta data-rh="true" name="twitter:creator" content="@openmetalio"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Installing a Rancher managed cluster on OpenStack | OpenMetal Docs"><meta data-rh="true" name="description" content="This guide will validate running an RKE1 (Rancher) cluster on an OpenStack"><meta data-rh="true" property="og:description" content="This guide will validate running an RKE1 (Rancher) cluster on an OpenStack"><link data-rh="true" rel="icon" href="/docs/manuals/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://openmetal.io/docs/manuals/kubernetes-guides/installing-a-rancher-cluster-on-openstack"><link data-rh="true" rel="alternate" href="https://openmetal.io/docs/manuals/kubernetes-guides/installing-a-rancher-cluster-on-openstack" hreflang="en"><link data-rh="true" rel="alternate" href="https://openmetal.io/docs/manuals/kubernetes-guides/installing-a-rancher-cluster-on-openstack" hreflang="x-default"><link rel="stylesheet" href="/docs/manuals/assets/css/styles.877a7960.css">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#docusaurus_skipToContent_fallback">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><a href="https://openmetal.io" target="_self" rel="noopener noreferrer" class="navbar__brand"><div class="navbar__logo"><img src="https://inmotionhosting.github.io/static-assets/logo/open-metal/medium.png" alt="OpenMetal" class="themedImage_ToTc themedImage--light_HNdA"><img src="https://inmotionhosting.github.io/static-assets/logo/open-metal/medium.png" alt="OpenMetal" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate"></b></a></div><div class="navbar__items navbar__items--right"><div class="searchBox_ZlJk"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><nav class="omi-navbar navbar"><div class="navbar__inner"><div class="navbar_top_row"><a href="https://openmetal.io" target="_self" rel="noopener noreferrer" class="navbar__brand"><div class="navbar__logo"><img src="https://inmotionhosting.github.io/static-assets/logo/open-metal/medium.png" alt="OpenMetal" class="themedImage_ToTc themedImage--light_HNdA"><img src="https://inmotionhosting.github.io/static-assets/logo/open-metal/medium.png" alt="OpenMetal" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title"></b></a><div class="linkContainer"><a href="https://openmetal.io/#hs-chat-open" target="_self" rel="noopener noreferrer" class="navbar__item navbar__link">CHAT</a><a href="https://openmetal.io/schedule-meeting/" target="_self" rel="noopener noreferrer" class="navbar__item navbar__link">MEET</a><a href="https://openmetal.io/iaas-pricing//" target="_self" rel="noopener noreferrer" class="navbar__item navbar__link">BUY</a><a href="https://openmetal.io/free-trial/" target="_self" rel="noopener noreferrer" class="navbar__item navbar__link">TRIAL</a><a href="https://central.openmetal.io/auth/sign-in" target="_self" rel="noopener noreferrer" class="navbar__item navbar__link">LOGIN</a></div></div><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><div class="custom-navbar-item-dropdown"><div class="navbar__item dropdown dropdown--hoverable"><a href="#" class="navbar__link" target="_self">Products</a></div><div class="dropdown_menu_container"><ul class="dropdown__menu"><div class="dropdown_menu_left"><li><a href="https://openmetal.io/products/cloud-cores/" target="_self" rel="noopener noreferrer" class="dropdown__link" description="Start with all the top OpenMetal features in a highly available configuration." itemtype="link" icontype="external" iconstyle="detailed" icon="https://openmetal.io/wp-content/uploads/2023/03/Architecture-Cloud-Logo.png"><div class="dropDownLinkContainer"><div class="icon"><img src="https://openmetal.io/wp-content/uploads/2023/03/Architecture-Cloud-Logo.png" class="detailed"></div><div><p>Cloud Cores</p><p class="link-description">Start with all the top OpenMetal features in a highly available configuration.</p></div></div></a></li><li><a href="https://openmetal.io/products/cloud-expansion/" target="_self" rel="noopener noreferrer" class="dropdown__link" description="Scale your Cloud with flexible building blocks that fit your business." itemtype="link" icontype="external" iconstyle="detailed" icon="https://openmetal.io/wp-content/uploads/2023/03/Architecture-Converged-Node-Layers-150x150.png"><div class="dropDownLinkContainer"><div class="icon"><img src="https://openmetal.io/wp-content/uploads/2023/03/Architecture-Converged-Node-Layers-150x150.png" class="detailed"></div><div><p>Cloud Expansion Nodes</p><p class="link-description">Scale your Cloud with flexible building blocks that fit your business.</p></div></div></a></li><li><a href="https://openmetal.io/products/storage-clusters/" target="_self" rel="noopener noreferrer" class="dropdown__link" description="Get high performance object, block, and file storage with fair egress at simple prices." itemtype="link" icontype="external" iconstyle="detailed" icon="https://openmetal.io/wp-content/uploads/2023/03/Architecture-NVMe-150x150.png"><div class="dropDownLinkContainer"><div class="icon"><img src="https://openmetal.io/wp-content/uploads/2023/03/Architecture-NVMe-150x150.png" class="detailed"></div><div><p>Storage Clusters</p><p class="link-description">Get high performance object, block, and file storage with fair egress at simple prices.</p></div></div></a></li><li><a href="https://openmetal.io/products/bare-metal/" target="_self" rel="noopener noreferrer" class="dropdown__link" description="Support demanding workloads such as ClickHouse, Hadoop, and more." itemtype="link" icontype="external" iconstyle="detailed" icon="https://openmetal.io/wp-content/uploads/2023/03/Architecture-BareMetal-Node-Layers-150x150.png"><div class="dropDownLinkContainer"><div class="icon"><img src="https://openmetal.io/wp-content/uploads/2023/03/Architecture-BareMetal-Node-Layers-150x150.png" class="detailed"></div><div><p>Bare Metal Clusters</p><p class="link-description">Support demanding workloads such as ClickHouse, Hadoop, and more.</p></div></div></a></li></div></ul></div></div><div class="custom-navbar-item-dropdown"><div class="navbar__item dropdown dropdown--hoverable"><a href="#" class="navbar__link" target="_self">Programs</a></div><div class="dropdown_menu_container"><ul class="dropdown__menu"><div class="dropdown_menu_left"><li><a href="https://openmetal.io/programs/saas-providers-program/" target="_self" rel="noopener noreferrer" class="dropdown__link" description="Scale business while maintaining a cost-effective infrastructure that improves margins" itemtype="link" icontype="external" iconstyle="solid" icon="https://openmetal.io/wp-content/uploads/2023/04/saas-providers-menu.png"><div class="dropDownLinkContainer"><div class="icon"><img src="https://openmetal.io/wp-content/uploads/2023/04/saas-providers-menu.png" class="solid"></div><div><p>SaaS Providers</p><p class="link-description">Scale business while maintaining a cost-effective infrastructure that improves margins</p></div></div></a></li><li><a href="https://openmetal.io/programs/hosting-cloud-providers/" target="_self" rel="noopener noreferrer" class="dropdown__link" description="Combined scale yields better costs, new locations, and more features" itemtype="link" icontype="external" iconstyle="solid" icon="https://openmetal.io/wp-content/uploads/2023/04/hosting-public-cloud-menu.png"><div class="dropDownLinkContainer"><div class="icon"><img src="https://openmetal.io/wp-content/uploads/2023/04/hosting-public-cloud-menu.png" class="solid"></div><div><p>Hosting and Public Cloud Providers</p><p class="link-description">Combined scale yields better costs, new locations, and more features</p></div></div></a></li><li><a href="https://openmetal.io/programs/on-demand-openstack-cloud/" target="_self" rel="noopener noreferrer" class="dropdown__link" description="Harness the power of OpenStack to build private clouds at any size, on-demand" itemtype="link" icontype="external" iconstyle="solid" icon="https://openmetal.io/wp-content/uploads/2023/04/openstack-menu.png"><div class="dropDownLinkContainer"><div class="icon"><img src="https://openmetal.io/wp-content/uploads/2023/04/openstack-menu.png" class="solid"></div><div><p>OpenStack</p><p class="link-description">Harness the power of OpenStack to build private clouds at any size, on-demand</p></div></div></a></li><li><a href="https://openmetal.io/programs/education-and-training/" target="_self" rel="noopener noreferrer" class="dropdown__link" description="Become the next generation of Cloud Architects and Cloud Native Developers" itemtype="link" icontype="fontAwesome" iconstyle="solid" icon="faGraduationCap"><div class="dropDownLinkContainer"><div class="icon"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="graduation-cap" class="svg-inline--fa fa-graduation-cap faIcon" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512"><path fill="currentColor" d="M320 32c-8.1 0-16.1 1.4-23.7 4.1L15.8 137.4C6.3 140.9 0 149.9 0 160s6.3 19.1 15.8 22.6l57.9 20.9C57.3 229.3 48 259.8 48 291.9v28.1c0 28.4-10.8 57.7-22.3 80.8c-6.5 13-13.9 25.8-22.5 37.6C0 442.7-.9 448.3 .9 453.4s6 8.9 11.2 10.2l64 16c4.2 1.1 8.7 .3 12.4-2s6.3-6.1 7.1-10.4c8.6-42.8 4.3-81.2-2.1-108.7C90.3 344.3 86 329.8 80 316.5V291.9c0-30.2 10.2-58.7 27.9-81.5c12.9-15.5 29.6-28 49.2-35.7l157-61.7c8.2-3.2 17.5 .8 20.7 9s-.8 17.5-9 20.7l-157 61.7c-12.4 4.9-23.3 12.4-32.2 21.6l159.6 57.6c7.6 2.7 15.6 4.1 23.7 4.1s16.1-1.4 23.7-4.1L624.2 182.6c9.5-3.4 15.8-12.5 15.8-22.6s-6.3-19.1-15.8-22.6L343.7 36.1C336.1 33.4 328.1 32 320 32zM128 408c0 35.3 86 72 192 72s192-36.7 192-72L496.7 262.6 354.5 314c-11.1 4-22.8 6-34.5 6s-23.5-2-34.5-6L143.3 262.6 128 408z"></path></svg></div><div><p>Education and Training</p><p class="link-description">Become the next generation of Cloud Architects and Cloud Native Developers</p></div></div></a></li><li><a href="https://openmetal.io/programs/openmetal-partner-programs/" target="_self" rel="noopener noreferrer" class="dropdown__link" description="Realize new paths to profitability or business success with open source services" itemtype="link" icontype="fontAwesome" iconstyle="solid" icon="faHandshake"><div class="dropDownLinkContainer"><div class="icon"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="handshake" class="svg-inline--fa fa-handshake faIcon" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512"><path fill="currentColor" d="M323.4 85.2l-96.8 78.4c-16.1 13-19.2 36.4-7 53.1c12.9 17.8 38 21.3 55.3 7.8l99.3-77.2c7-5.4 17-4.2 22.5 2.8s4.2 17-2.8 22.5l-20.9 16.2L512 316.8V128h-.7l-3.9-2.5L434.8 79c-15.3-9.8-33.2-15-51.4-15c-21.8 0-43 7.5-60 21.2zm22.8 124.4l-51.7 40.2C263 274.4 217.3 268 193.7 235.6c-22.2-30.5-16.6-73.1 12.7-96.8l83.2-67.3c-11.6-4.9-24.1-7.4-36.8-7.4C234 64 215.7 69.6 200 80l-72 48V352h28.2l91.4 83.4c19.6 17.9 49.9 16.5 67.8-3.1c5.5-6.1 9.2-13.2 11.1-20.6l17 15.6c19.5 17.9 49.9 16.6 67.8-2.9c4.5-4.9 7.8-10.6 9.9-16.5c19.4 13 45.8 10.3 62.1-7.5c17.9-19.5 16.6-49.9-2.9-67.8l-134.2-123zM16 128c-8.8 0-16 7.2-16 16V352c0 17.7 14.3 32 32 32H64c17.7 0 32-14.3 32-32V128H16zM48 320a16 16 0 1 1 0 32 16 16 0 1 1 0-32zM544 128V352c0 17.7 14.3 32 32 32h32c17.7 0 32-14.3 32-32V144c0-8.8-7.2-16-16-16H544zm32 208a16 16 0 1 1 32 0 16 16 0 1 1 -32 0z"></path></svg></div><div><p>Partners</p><p class="link-description">Realize new paths to profitability or business success with open source services</p></div></div></a></li></div></ul></div></div><div class="custom-navbar-item-dropdown"><div class="navbar__item dropdown dropdown--hoverable"><a href="#" class="navbar__link" target="_self">Use Cases</a></div><div class="dropdown_menu_container"><ul class="dropdown__menu"><div class="dropdown_menu_left"><li><a href="https://openmetal.io/use-cases/public-cloud-alternative/" target="_self" rel="noopener noreferrer" class="dropdown__link" description="The benefits of public cloud on a platform built to be tenant-first." itemtype="link" icontype="external" iconstyle="solid" icon="https://openmetal.io/wp-content/uploads/2023/04/cloud-alternative-menu.png"><div class="dropDownLinkContainer"><div class="icon"><img src="https://openmetal.io/wp-content/uploads/2023/04/cloud-alternative-menu.png" class="solid"></div><div><p>Public Cloud Alternative</p><p class="link-description">The benefits of public cloud on a platform built to be tenant-first.</p></div></div></a></li><li><a href="https://openmetal.io/use-cases/hosted-private-cloud/" target="_self" rel="noopener noreferrer" class="dropdown__link" description="The rich benefits of private cloud now delivered in 45 seconds." itemtype="link" icontype="external" iconstyle="solid" icon="https://openmetal.io/wp-content/uploads/2023/04/private-cloud-menu.png"><div class="dropDownLinkContainer"><div class="icon"><img src="https://openmetal.io/wp-content/uploads/2023/04/private-cloud-menu.png" class="solid"></div><div><p>Hosted Private Cloud</p><p class="link-description">The rich benefits of private cloud now delivered in 45 seconds.</p></div></div></a></li><li><a href="https://openmetal.io/use-cases/on-demand-openstack-cloud/" target="_self" rel="noopener noreferrer" class="dropdown__link" description="Production ready OpenStack clusters in 45 seconds. Fully customizable." itemtype="link" icontype="external" iconstyle="solid" icon="https://openmetal.io/wp-content/uploads/2023/04/openstack-menu.png"><div class="dropDownLinkContainer"><div class="icon"><img src="https://openmetal.io/wp-content/uploads/2023/04/openstack-menu.png" class="solid"></div><div><p>On-Demand OpenStack</p><p class="link-description">Production ready OpenStack clusters in 45 seconds. Fully customizable.</p></div></div></a></li><li><a href="https://openmetal.io/use-cases/kubernetes-workloads/" target="_self" rel="noopener noreferrer" class="dropdown__link" description="OpenMetal Cloud Cores support Kubernetes integration, with deployment and management flexibility." itemtype="link" icontype="external" iconstyle="solid" icon="https://openmetal.io/wp-content/uploads/2023/04/kubernetes-menu.png"><div class="dropDownLinkContainer"><div class="icon"><img src="https://openmetal.io/wp-content/uploads/2023/04/kubernetes-menu.png" class="solid"></div><div><p>Kubernetes Workloads</p><p class="link-description">OpenMetal Cloud Cores support Kubernetes integration, with deployment and management flexibility.</p></div></div></a></li><li><a href="https://openmetal.io/products/large-iaas-deployments/" target="_self" rel="noopener noreferrer" class="dropdown__link" description="Leverage the on-demand fleet and team for innovative solutions." itemtype="link" icontype="external" iconstyle="solid" icon="https://openmetal.io/wp-content/uploads/2023/04/large-deployments-menu.png"><div class="dropDownLinkContainer"><div class="icon"><img src="https://openmetal.io/wp-content/uploads/2023/04/large-deployments-menu.png" class="solid"></div><div><p>Large Iaas Deployments</p><p class="link-description">Leverage the on-demand fleet and team for innovative solutions.</p></div></div></a></li></div></ul></div></div><div class="custom-navbar-item-dropdown"><div class="navbar__item dropdown dropdown--hoverable"><a href="#" class="navbar__link" target="_self">Platform</a></div><div class="dropdown_menu_container"><ul class="dropdown__menu"><div class="dropdown_menu_left"><div><h3><a href="https://openmetal.io/platform/cloud-features/">Private Cloud Overview</a></h3><li><a href="https://openmetal.io/platform/cloud-features/cloud-compute/" target="_self" rel="noopener noreferrer" class="dropdown__link" description="" itemtype="link" icontype="external" iconstyle="solid" icon="https://openmetal.io/wp-content/uploads/2023/04/compute-menu.png"><div class="dropDownLinkContainer"><div class="icon"><img src="https://openmetal.io/wp-content/uploads/2023/04/compute-menu.png" class="solid"></div><div><p>Compute</p></div></div></a></li><li><a href="https://openmetal.io/platform/features/block-storage/" target="_self" rel="noopener noreferrer" class="dropdown__link" description="" itemtype="link" icontype="external" iconstyle="solid" icon="https://openmetal.io/wp-content/uploads/2023/04/block-storage-menu.png"><div class="dropDownLinkContainer"><div class="icon"><img src="https://openmetal.io/wp-content/uploads/2023/04/block-storage-menu.png" class="solid"></div><div><p>Block Storage</p></div></div></a></li><li><a href="https://openmetal.io/platform/features/networking/" target="_self" rel="noopener noreferrer" class="dropdown__link" description="" itemtype="link" icontype="external" iconstyle="solid" icon="https://openmetal.io/wp-content/uploads/2023/04/networking-menu.png"><div class="dropDownLinkContainer"><div class="icon"><img src="https://openmetal.io/wp-content/uploads/2023/04/networking-menu.png" class="solid"></div><div><p>Networking</p></div></div></a></li><li><a href="https://openmetal.io/platform/features/object-storage/" target="_self" rel="noopener noreferrer" class="dropdown__link" description="" itemtype="link" icontype="external" iconstyle="solid" icon="https://openmetal.io/wp-content/uploads/2023/04/object-storage-menu.png"><div class="dropDownLinkContainer"><div class="icon"><img src="https://openmetal.io/wp-content/uploads/2023/04/object-storage-menu.png" class="solid"></div><div><p>Object Storage</p></div></div></a></li><li><a href="https://openmetal.io/platform/cloud-monitoring/" target="_self" rel="noopener noreferrer" class="dropdown__link" description="" itemtype="link" icontype="external" iconstyle="solid" icon="https://openmetal.io/wp-content/uploads/2023/04/cloud-monitoring-menu.png"><div class="dropDownLinkContainer"><div class="icon"><img src="https://openmetal.io/wp-content/uploads/2023/04/cloud-monitoring-menu.png" class="solid"></div><div><p>Cloud Monitoring</p></div></div></a></li><li><a href="https://openmetal.io/platform/support-and-service-levels/" target="_self" rel="noopener noreferrer" class="dropdown__link" description="" itemtype="link" icontype="external" iconstyle="solid" icon="https://openmetal.io/wp-content/uploads/2023/04/sla.png"><div class="dropDownLinkContainer"><div class="icon"><img src="https://openmetal.io/wp-content/uploads/2023/04/sla.png" class="solid"></div><div><p>Service Level Agreements</p></div></div></a></li></div><div><h3><a href="https://openmetal.io/solutions/on-demand-openstack-cloud">On-Demand OpenStack Overview</a></h3><li><a href="https://openmetal.io/solutions/openstack-public-cloud-providers/" target="_self" rel="noopener noreferrer" class="dropdown__link" description="" itemtype="link" icontype="external" iconstyle="solid" icon="https://openmetal.io/wp-content/uploads/2023/04/hosting-public-cloud-menu.png"><div class="dropDownLinkContainer"><div class="icon"><img src="https://openmetal.io/wp-content/uploads/2023/04/hosting-public-cloud-menu.png" class="solid"></div><div><p>For Public Cloud Providers</p></div></div></a></li><li><a href="https://openmetal.io/solutions/saas" target="_self" rel="noopener noreferrer" class="dropdown__link" description="" itemtype="link" icontype="external" iconstyle="solid" icon="https://openmetal.io/wp-content/uploads/2023/04/saas-providers-menu.png"><div class="dropDownLinkContainer"><div class="icon"><img src="https://openmetal.io/wp-content/uploads/2023/04/saas-providers-menu.png" class="solid"></div><div><p>For SAAS Companies</p></div></div></a></li></div><div><h3><a href="https://openmetal.io/platform/cloud-features/bare-metal/">Bare Metal Overview</a></h3></div></div></ul></div></div><div class="custom-navbar-item-dropdown"><div class="navbar__item dropdown dropdown--hoverable"><a href="#" class="navbar__link" header="" target="_self">Pricing</a></div><div class="dropdown_menu_container"><ul class="dropdown__menu"><div class="dropdown_menu_left"><li><a href="https://openmetal.io/iaas-pricing/" target="_self" rel="noopener noreferrer" class="dropdown__link" description="" itemtype="link" icontype="external" iconstyle="detailed" icon="https://openmetal.io/wp-content/uploads/2023/03/Architecture-Cloud-Logo.png"><div class="dropDownLinkContainer"><div class="icon"><img src="https://openmetal.io/wp-content/uploads/2023/03/Architecture-Cloud-Logo.png" class="detailed"></div><div><p>Cloud Cores</p></div></div></a></li><li><a href="https://openmetal.io/cloud-expansion-pricing/" target="_self" rel="noopener noreferrer" class="dropdown__link" description="" itemtype="link" icontype="external" iconstyle="detailed" icon="https://openmetal.io/wp-content/uploads/2023/03/Architecture-Converged-Node-Layers-150x150.png"><div class="dropDownLinkContainer"><div class="icon"><img src="https://openmetal.io/wp-content/uploads/2023/03/Architecture-Converged-Node-Layers-150x150.png" class="detailed"></div><div><p>Cloud Expansion Nodes</p></div></div></a></li><li><a href="https://openmetal.io/storage-cluster-pricing/" target="_self" rel="noopener noreferrer" class="dropdown__link" description="" itemtype="link" icontype="external" iconstyle="detailed" icon="https://openmetal.io/wp-content/uploads/2023/03/Architecture-NVMe-150x150.png"><div class="dropDownLinkContainer"><div class="icon"><img src="https://openmetal.io/wp-content/uploads/2023/03/Architecture-NVMe-150x150.png" class="detailed"></div><div><p>Storage Clusters</p></div></div></a></li><li><a href="https://openmetal.io/egress-pricing-calculator/" target="_self" rel="noopener noreferrer" class="dropdown__link" description="" itemtype="link" icontype="external" iconstyle="detailed" icon="https://openmetal.io/wp-content/uploads/2023/03/Architecture-BareMetal-Node-Layers-150x150.png"><div class="dropDownLinkContainer"><div class="icon"><img src="https://openmetal.io/wp-content/uploads/2023/03/Architecture-BareMetal-Node-Layers-150x150.png" class="detailed"></div><div><p>Egress</p></div></div></a></li></div></ul></div></div><div class="custom-navbar-item-dropdown"><div class="navbar__item dropdown dropdown--hoverable"><a href="#" class="navbar__link" header="" target="_self">Resources</a></div><div class="dropdown_menu_container"><ul class="dropdown__menu"><div class="dropdown_menu_left"><li><a href="https://openmetal.io/resources/" target="_self" rel="noopener noreferrer" class="dropdown__link" description="" itemtype="link" icontype="external" iconstyle="solid" icon="https://openmetal.io/wp-content/uploads/2023/04/blog-menu.png"><div class="dropDownLinkContainer"><div class="icon"><img src="https://openmetal.io/wp-content/uploads/2023/04/blog-menu.png" class="solid"></div><div><p>OpenMetal Blog</p></div></div></a></li><li><a href="https://openmetal.io/resources/analyst-industry-reports/" target="_self" rel="noopener noreferrer" class="dropdown__link" description="" itemtype="link" icontype="fontAwesome" iconstyle="solid" icon="faLineChart"><div class="dropDownLinkContainer"><div class="icon"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="chart-line" class="svg-inline--fa fa-chart-line faIcon" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M64 64c0-17.7-14.3-32-32-32S0 46.3 0 64V400c0 44.2 35.8 80 80 80H480c17.7 0 32-14.3 32-32s-14.3-32-32-32H80c-8.8 0-16-7.2-16-16V64zm406.6 86.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L320 210.7l-57.4-57.4c-12.5-12.5-32.8-12.5-45.3 0l-112 112c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L240 221.3l57.4 57.4c12.5 12.5 32.8 12.5 45.3 0l128-128z"></path></svg></div><div><p>Analyst Coverage and Industry Reports</p></div></div></a></li><li><a href="https://openmetal.io/resources/cloud-industry-events/" target="_self" rel="noopener noreferrer" class="dropdown__link" description="" itemtype="link" icontype="fontAwesome" iconstyle="solid" icon="faCalendar"><div class="dropDownLinkContainer"><div class="icon"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="calendar" class="svg-inline--fa fa-calendar faIcon" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M96 32V64H48C21.5 64 0 85.5 0 112v48H448V112c0-26.5-21.5-48-48-48H352V32c0-17.7-14.3-32-32-32s-32 14.3-32 32V64H160V32c0-17.7-14.3-32-32-32S96 14.3 96 32zM448 192H0V464c0 26.5 21.5 48 48 48H400c26.5 0 48-21.5 48-48V192z"></path></svg></div><div><p>Cloud Industry Events</p></div></div></a></li><li><a href="https://openmetal.io/resources/media-and-press/" target="_self" rel="noopener noreferrer" class="dropdown__link" description="" itemtype="link" icontype="fontAwesome" iconstyle="solid" icon="faBullhorn"><div class="dropDownLinkContainer"><div class="icon"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="bullhorn" class="svg-inline--fa fa-bullhorn faIcon" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M480 32c0-12.9-7.8-24.6-19.8-29.6s-25.7-2.2-34.9 6.9L381.7 53c-48 48-113.1 75-181 75H192 160 64c-35.3 0-64 28.7-64 64v96c0 35.3 28.7 64 64 64l0 128c0 17.7 14.3 32 32 32h64c17.7 0 32-14.3 32-32V352l8.7 0c67.9 0 133 27 181 75l43.6 43.6c9.2 9.2 22.9 11.9 34.9 6.9s19.8-16.6 19.8-29.6V300.4c18.6-8.8 32-32.5 32-60.4s-13.4-51.6-32-60.4V32zm-64 76.7V240 371.3C357.2 317.8 280.5 288 200.7 288H192V192h8.7c79.8 0 156.5-29.8 215.3-83.3z"></path></svg></div><div><p>Media &amp; Press</p></div></div></a></li><li><a href="https://openmetal.io/resources/sales-faq/" target="_self" rel="noopener noreferrer" class="dropdown__link" description="" itemtype="link" icontype="fontAwesome" iconstyle="solid" icon="faQuestionCircle"><div class="dropDownLinkContainer"><div class="icon"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="circle-question" class="svg-inline--fa fa-circle-question faIcon" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM169.8 165.3c7.9-22.3 29.1-37.3 52.8-37.3h58.3c34.9 0 63.1 28.3 63.1 63.1c0 22.6-12.1 43.5-31.7 54.8L280 264.4c-.2 13-10.9 23.6-24 23.6c-13.3 0-24-10.7-24-24V250.5c0-8.6 4.6-16.5 12.1-20.8l44.3-25.4c4.7-2.7 7.6-7.7 7.6-13.1c0-8.4-6.8-15.1-15.1-15.1H222.6c-3.4 0-6.4 2.1-7.5 5.3l-.4 1.2c-4.4 12.5-18.2 19-30.6 14.6s-19-18.2-14.6-30.6l.4-1.2zM224 352a32 32 0 1 1 64 0 32 32 0 1 1 -64 0z"></path></svg></div><div><p>Sales FAQ</p></div></div></a></li></div></ul></div></div><div class="custom-navbar-item-dropdown"><div class="navbar__item dropdown dropdown--hoverable"><a href="#" class="navbar__link" header="" target="_self">Docs</a></div><div class="dropdown_menu_container"><ul class="dropdown__menu"><div class="dropdown_menu_left"><li><a href="https://openmetal.io/docs/" target="_self" rel="noopener noreferrer" class="dropdown__link" description="" itemtype="link" icontype="external" iconstyle="solid" icon="https://openmetal.io/wp-content/uploads/2023/04/documentation-menu.png"><div class="dropDownLinkContainer"><div class="icon"><img src="https://openmetal.io/wp-content/uploads/2023/04/documentation-menu.png" class="solid"></div><div><p>Documentation Home</p></div></div></a></li><li><a href="https://openmetal.io/docs/manuals/operators-manual" target="_self" rel="noopener noreferrer" class="dropdown__link" description="" itemtype="link" icontype="external" iconstyle="solid" icon="https://openmetal.io/wp-content/uploads/2023/04/operator-manual-menu.png"><div class="dropDownLinkContainer"><div class="icon"><img src="https://openmetal.io/wp-content/uploads/2023/04/operator-manual-menu.png" class="solid"></div><div><p>OpenStack Operators Manual</p></div></div></a></li><li><a href="https://openmetal.io/docs/manuals/users-manual" target="_self" rel="noopener noreferrer" class="dropdown__link" description="" itemtype="link" icontype="external" iconstyle="solid" icon="https://openmetal.io/wp-content/uploads/2023/04/user-manual-menu.png"><div class="dropDownLinkContainer"><div class="icon"><img src="https://openmetal.io/wp-content/uploads/2023/04/user-manual-menu.png" class="solid"></div><div><p>OpenStack Users Manual</p></div></div></a></li><li><a href="https://openmetal.io/docs/product-guides/private-cloud/" target="_self" rel="noopener noreferrer" class="dropdown__link" description="" itemtype="link" icontype="external" iconstyle="solid" icon="https://openmetal.io/wp-content/uploads/2023/04/private-cloud-users-menu.png"><div class="dropDownLinkContainer"><div class="icon"><img src="https://openmetal.io/wp-content/uploads/2023/04/private-cloud-users-menu.png" class="solid"></div><div><p>Private Cloud Users</p></div></div></a></li><li><a href="https://openmetal.io/docs/manuals/kubernetes-guides" target="_self" rel="noopener noreferrer" class="dropdown__link" description="" itemtype="link" icontype="external" iconstyle="solid" icon="https://openmetal.io/wp-content/uploads/2023/04/kubernetes-menu.png"><div class="dropDownLinkContainer"><div class="icon"><img src="https://openmetal.io/wp-content/uploads/2023/04/kubernetes-menu.png" class="solid"></div><div><p>Kubernetes</p></div></div></a></li><li><a href="https://openmetal.io/docs/releases/" target="_self" rel="noopener noreferrer" class="dropdown__link" description="" itemtype="link" icontype="external" iconstyle="solid" icon="https://openmetal.io/wp-content/uploads/2023/04/release-notes-menu.png"><div class="dropDownLinkContainer"><div class="icon"><img src="https://openmetal.io/wp-content/uploads/2023/04/release-notes-menu.png" class="solid"></div><div><p>Product Release Updates</p></div></div></a></li></div></ul></div></div><div class="custom-navbar-item-dropdown"><div class="navbar__item dropdown dropdown--hoverable"><a href="#" class="navbar__link" header="" target="_self">Company</a></div><div class="dropdown_menu_container"><ul class="dropdown__menu"><div class="dropdown_menu_left"><li><a href="https://openmetal.io/about-openmetal/" target="_self" rel="noopener noreferrer" class="dropdown__link" description="" itemtype="link" icontype="fontAwesome" iconstyle="solid" icon="faInfoCircle"><div class="dropDownLinkContainer"><div class="icon"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="circle-info" class="svg-inline--fa fa-circle-info faIcon" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM216 336h24V272H216c-13.3 0-24-10.7-24-24s10.7-24 24-24h48c13.3 0 24 10.7 24 24v88h8c13.3 0 24 10.7 24 24s-10.7 24-24 24H216c-13.3 0-24-10.7-24-24s10.7-24 24-24zm40-208a32 32 0 1 1 0 64 32 32 0 1 1 0-64z"></path></svg></div><div><p>About OpenMetal</p></div></div></a></li><li><a href="https://openmetal.io/company/guiding-principles/" target="_self" rel="noopener noreferrer" class="dropdown__link" description="" itemtype="link" icontype="fontAwesome" iconstyle="solid" icon="faLightbulb"><div class="dropDownLinkContainer"><div class="icon"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="lightbulb" class="svg-inline--fa fa-lightbulb faIcon" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512"><path fill="currentColor" d="M272 384c9.6-31.9 29.5-59.1 49.2-86.2l0 0c5.2-7.1 10.4-14.2 15.4-21.4c19.8-28.5 31.4-63 31.4-100.3C368 78.8 289.2 0 192 0S16 78.8 16 176c0 37.3 11.6 71.9 31.4 100.3c5 7.2 10.2 14.3 15.4 21.4l0 0c19.8 27.1 39.7 54.4 49.2 86.2H272zM192 512c44.2 0 80-35.8 80-80V416H112v16c0 44.2 35.8 80 80 80zM112 176c0 8.8-7.2 16-16 16s-16-7.2-16-16c0-61.9 50.1-112 112-112c8.8 0 16 7.2 16 16s-7.2 16-16 16c-44.2 0-80 35.8-80 80z"></path></svg></div><div><p>Core Guiding Principles</p></div></div></a></li><li><a href="https://openmetal.io/about-openmetal/team-page/" target="_self" rel="noopener noreferrer" class="dropdown__link" description="" itemtype="link" icontype="fontAwesome" iconstyle="solid" icon="faUsers"><div class="dropDownLinkContainer"><div class="icon"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="users" class="svg-inline--fa fa-users faIcon" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512"><path fill="currentColor" d="M144 0a80 80 0 1 1 0 160A80 80 0 1 1 144 0zM512 0a80 80 0 1 1 0 160A80 80 0 1 1 512 0zM0 298.7C0 239.8 47.8 192 106.7 192h42.7c15.9 0 31 3.5 44.6 9.7c-1.3 7.2-1.9 14.7-1.9 22.3c0 38.2 16.8 72.5 43.3 96c-.2 0-.4 0-.7 0H21.3C9.6 320 0 310.4 0 298.7zM405.3 320c-.2 0-.4 0-.7 0c26.6-23.5 43.3-57.8 43.3-96c0-7.6-.7-15-1.9-22.3c13.6-6.3 28.7-9.7 44.6-9.7h42.7C592.2 192 640 239.8 640 298.7c0 11.8-9.6 21.3-21.3 21.3H405.3zM224 224a96 96 0 1 1 192 0 96 96 0 1 1 -192 0zM128 485.3C128 411.7 187.7 352 261.3 352H378.7C452.3 352 512 411.7 512 485.3c0 14.7-11.9 26.7-26.7 26.7H154.7c-14.7 0-26.7-11.9-26.7-26.7z"></path></svg></div><div><p>The OpenMetal Team</p></div></div></a></li><li><a href="https://openmetal.io/about-openmetal/cloud-support-services/" target="_self" rel="noopener noreferrer" class="dropdown__link" description="" itemtype="link" icontype="external" iconstyle="solid" icon="https://openmetal.io/wp-content/uploads/2023/04/customer.png"><div class="dropDownLinkContainer"><div class="icon"><img src="https://openmetal.io/wp-content/uploads/2023/04/customer.png" class="solid"></div><div><p>Our Cloud Support Services</p></div></div></a></li><li><a href="https://openmetal.io/about-openmetal/data-center-locations/" target="_self" rel="noopener noreferrer" class="dropdown__link" description="" itemtype="link" icontype="fontAwesome" iconstyle="solid" icon="faLocationArrow"><div class="dropDownLinkContainer"><div class="icon"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="location-arrow" class="svg-inline--fa fa-location-arrow faIcon" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M429.6 92.1c4.9-11.9 2.1-25.6-7-34.7s-22.8-11.9-34.7-7l-352 144c-14.2 5.8-22.2 20.8-19.3 35.8s16.1 25.8 31.4 25.8H224V432c0 15.3 10.8 28.4 25.8 31.4s30-5.1 35.8-19.3l144-352z"></path></svg></div><div><p>Data Center Locations</p></div></div></a></li><li><a href="https://openmetal.io/about-openmetal/network-connectivity/" target="_self" rel="noopener noreferrer" class="dropdown__link" description="" itemtype="link" icontype="fontAwesome" iconstyle="solid" icon="faGlobe"><div class="dropDownLinkContainer"><div class="icon"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="globe" class="svg-inline--fa fa-globe faIcon" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M352 256c0 22.2-1.2 43.6-3.3 64H163.3c-2.2-20.4-3.3-41.8-3.3-64s1.2-43.6 3.3-64H348.7c2.2 20.4 3.3 41.8 3.3 64zm28.8-64H503.9c5.3 20.5 8.1 41.9 8.1 64s-2.8 43.5-8.1 64H380.8c2.1-20.6 3.2-42 3.2-64s-1.1-43.4-3.2-64zm112.6-32H376.7c-10-63.9-29.8-117.4-55.3-151.6c78.3 20.7 142 77.5 171.9 151.6zm-149.1 0H167.7c6.1-36.4 15.5-68.6 27-94.7c10.5-23.6 22.2-40.7 33.5-51.5C239.4 3.2 248.7 0 256 0s16.6 3.2 27.8 13.8c11.3 10.8 23 27.9 33.5 51.5c11.6 26 20.9 58.2 27 94.7zm-209 0H18.6C48.6 85.9 112.2 29.1 190.6 8.4C165.1 42.6 145.3 96.1 135.3 160zM8.1 192H131.2c-2.1 20.6-3.2 42-3.2 64s1.1 43.4 3.2 64H8.1C2.8 299.5 0 278.1 0 256s2.8-43.5 8.1-64zM194.7 446.6c-11.6-26-20.9-58.2-27-94.6H344.3c-6.1 36.4-15.5 68.6-27 94.6c-10.5 23.6-22.2 40.7-33.5 51.5C272.6 508.8 263.3 512 256 512s-16.6-3.2-27.8-13.8c-11.3-10.8-23-27.9-33.5-51.5zM135.3 352c10 63.9 29.8 117.4 55.3 151.6C112.2 482.9 48.6 426.1 18.6 352H135.3zm358.1 0c-30 74.1-93.6 130.9-171.9 151.6c25.5-34.2 45.2-87.7 55.3-151.6H493.4z"></path></svg></div><div><p>Network Connectivity</p></div></div></a></li><li><a href="https://openmetal.io/about-openmetal/support-and-service-levels/" target="_self" rel="noopener noreferrer" class="dropdown__link" description="" itemtype="link" icontype="fontAwesome" iconstyle="solid" icon="faQuestionCircle"><div class="dropDownLinkContainer"><div class="icon"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="circle-question" class="svg-inline--fa fa-circle-question faIcon" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM169.8 165.3c7.9-22.3 29.1-37.3 52.8-37.3h58.3c34.9 0 63.1 28.3 63.1 63.1c0 22.6-12.1 43.5-31.7 54.8L280 264.4c-.2 13-10.9 23.6-24 23.6c-13.3 0-24-10.7-24-24V250.5c0-8.6 4.6-16.5 12.1-20.8l44.3-25.4c4.7-2.7 7.6-7.7 7.6-13.1c0-8.4-6.8-15.1-15.1-15.1H222.6c-3.4 0-6.4 2.1-7.5 5.3l-.4 1.2c-4.4 12.5-18.2 19-30.6 14.6s-19-18.2-14.6-30.6l.4-1.2zM224 352a32 32 0 1 1 64 0 32 32 0 1 1 -64 0z"></path></svg></div><div><p>Support and Service Levels</p></div></div></a></li><li><a href="https://openmetal.io/about-openmetal/contact-us/" target="_self" rel="noopener noreferrer" class="dropdown__link" description="" itemtype="link" icontype="fontAwesome" iconstyle="solid" icon="faPhoneSquare"><div class="dropDownLinkContainer"><div class="icon"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="square-phone" class="svg-inline--fa fa-square-phone faIcon" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M64 32C28.7 32 0 60.7 0 96V416c0 35.3 28.7 64 64 64H384c35.3 0 64-28.7 64-64V96c0-35.3-28.7-64-64-64H64zm90.7 96.7c9.7-2.6 19.9 2.3 23.7 11.6l20 48c3.4 8.2 1 17.6-5.8 23.2L168 231.7c16.6 35.2 45.1 63.7 80.3 80.3l20.2-24.7c5.6-6.8 15-9.2 23.2-5.8l48 20c9.3 3.9 14.2 14 11.6 23.7l-12 44C336.9 378 329 384 320 384C196.3 384 96 283.7 96 160c0-9 6-16.9 14.7-19.3l44-12z"></path></svg></div><div><p>Contact Us</p></div></div></a></li></div></ul></div></div></div><div class="navbar__items navbar__items--right"></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebar_njMd"><nav class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/manuals/">Documentation Home</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/manuals/operators-manual/">Operator&#x27;s Manual</a><button aria-label="Toggle the collapsible sidebar category &#x27;Operator&#x27;s Manual&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/manuals/users-manual/">User&#x27;s Manual</a><button aria-label="Toggle the collapsible sidebar category &#x27;User&#x27;s Manual&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/manuals/tutorials/">Tutorials</a><button aria-label="Toggle the collapsible sidebar category &#x27;Tutorials&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/docs/manuals/kubernetes-guides/">Kubernetes</a><button aria-label="Toggle the collapsible sidebar category &#x27;Kubernetes&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" tabindex="0" href="/docs/manuals/kubernetes-guides/installing-an-openshift-cluster-on-openstack">Installation</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/manuals/kubernetes-guides/installing-an-openshift-cluster-on-openstack">Installing an OpenShift cluster on OpenStack</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/manuals/kubernetes-guides/installing-a-rancher-cluster-on-openstack">Installing a Rancher managed cluster on OpenStack</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/manuals/kubernetes-guides/deploying-a-kubespray-cluster-to-openstack-using-terraform">Deploying a Kubespray cluster to OpenStack using Terraform</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/manuals/kubernetes-guides/installing-a-kops-cluster-on-openstack">Installing a kOps cluster on OpenStack</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/manuals/tutorials/magnum-and-kubernetes">Magnum and Kubernetes</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/docs/manuals/kubernetes-guides/installing-the-kubernetes-openstack-cloud-controller-manager">OpenStack Provider</a></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/manuals/engineers-notes/building-windows-cloud-images-on-openmetal">Engineer&#x27;s Notes</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/manuals/openmetal-central/">OpenMetal Central</a><button aria-label="Toggle the collapsible sidebar category &#x27;OpenMetal Central&#x27;" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/docs/manuals/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_OVgt"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs/manuals/kubernetes-guides/"><span itemprop="name">Kubernetes</span></a><meta itemprop="position" content="1"></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Installation</span><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Installing a Rancher managed cluster on OpenStack</span><meta itemprop="position" content="3"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Installing a Rancher managed cluster on OpenStack</h1><p>This guide will validate running an RKE1 (Rancher) cluster on an OpenStack
environment. We&#x27;ll be following the official rancher documentation: <a href="https://docs.ranchermanager.rancher.io/how-to-guides/new-user-guides/kubernetes-cluster-setup/rke1-for-rancher" target="_blank" rel="noopener noreferrer">Setting up
a High-availability RKE Kubernetes Cluster</a>.</p><p>RKE1 is the first iteration of Rancher&#x27;s Kubernetes deployment system. RKE2 is
available and also works within OpenStack. We&#x27;ll be creating a guide on RKE2 in
the near future. To learn the differences between RKE1 and RKE2, please see
<a href="https://docs.ranchermanager.rancher.io/how-to-guides/new-user-guides/Kubernetes-clusters-in-rancher-setup/launch-kubernetes-with-rancher/rke1-vs-rke2-differences" target="_blank" rel="noopener noreferrer">RKE1 vs RKE2</a>.</p><p>Setting up an RKE1 cluster on OpenStack is rather simple. First, we need create the
nodes for our cluster within OpenStack. Then we create an RKE configuration
file that points to each of our nodes. Finally, we use RKE to install
Kubernetes on our nodes.</p><p>We&#x27;ll be performing these steps on a Standard - OpenMetal Cloud. You can follow
along by deploying a trial, then accessing one of your hardware nodes via SSH.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="prerequisites">Prerequisites<a class="hash-link" href="#prerequisites" title="Direct link to heading">​</a></h2><p>This guide requires access to the OpenStack CLI. Complete the following steps
to <a href="/docs/manuals/operators-manual/day-1/command-line/openstackclient">install the OpenStack CLI</a>.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="create-nodes">Create Nodes<a class="hash-link" href="#create-nodes" title="Direct link to heading">​</a></h2><p>We&#x27;ll need to create 3 nodes for our cluster. Before we can create
our nodes, we need to create a network, subnet, and router. We&#x27;ll also need to
create a security group so traffic can reach our cluster.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="create-a-project">Create a Project<a class="hash-link" href="#create-a-project" title="Direct link to heading">​</a></h3><p>Creating a project will separate the resources and make it easy to cleanup later.</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">openstack project create --domain default --description </span><span class="token string" style="color:#e3116c">&quot;RKE1 Cluster&quot;</span><span class="token plain"> rke1</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">openstack role </span><span class="token function" style="color:#d73a49">add</span><span class="token plain"> --project rke1 --user admin admin</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="update-the-openstack-cli">Update the OpenStack CLI<a class="hash-link" href="#update-the-openstack-cli" title="Direct link to heading">​</a></h4><p>Update the following environment variables.</p><blockquote><p>Note: Replace &lt;project_id&gt; with the project id from the previous step.</p></blockquote><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token builtin class-name">export</span><span class="token plain"> </span><span class="token assign-left variable" style="color:#36acaa">OS_PROJECT_ID</span><span class="token operator" style="color:#393A34">=</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">project_id</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token builtin class-name">export</span><span class="token plain"> </span><span class="token assign-left variable" style="color:#36acaa">OS_PROJECT_NAME</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">rke1</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="network">Network<a class="hash-link" href="#network" title="Direct link to heading">​</a></h3><p>We&#x27;ll need to create some networking resources for our nodes.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="create-a-network">Create a Network<a class="hash-link" href="#create-a-network" title="Direct link to heading">​</a></h4><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">openstack network create </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --project rke1 </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  rke1</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="create-a-subnet">Create a Subnet<a class="hash-link" href="#create-a-subnet" title="Direct link to heading">​</a></h4><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">openstack subnet create </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  rke1-subnet </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --project rke1 </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --network rke1 </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --subnet-range </span><span class="token number" style="color:#36acaa">172.31</span><span class="token plain">.0.0/28</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="create-a-router">Create a Router<a class="hash-link" href="#create-a-router" title="Direct link to heading">​</a></h4><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">openstack router create </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  rke1-router </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --project rke1</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="add-a-subnet-to-the-router">Add a Subnet to the Router<a class="hash-link" href="#add-a-subnet-to-the-router" title="Direct link to heading">​</a></h4><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">openstack router </span><span class="token function" style="color:#d73a49">add</span><span class="token plain"> subnet </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  rke1-router </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  rke1-subnet</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="set-the-routers-external-gateway">Set the Router&#x27;s External Gateway<a class="hash-link" href="#set-the-routers-external-gateway" title="Direct link to heading">​</a></h4><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">openstack router </span><span class="token builtin class-name">set</span><span class="token plain"> --external-gateway </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token variable" style="color:#36acaa">$(</span><span class="token variable" style="color:#36acaa">openstack network list --external -f value -c ID</span><span class="token variable" style="color:#36acaa">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  rke1-router</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="create-a-security-group">Create a Security Group<a class="hash-link" href="#create-a-security-group" title="Direct link to heading">​</a></h3><p>Create a security group that allows traffic on common ports required by
Kubernetes deployment systems.</p><blockquote><p>Note: This is not a definitive list. In production
deployments you&#x27;ll want to lock down your security groups to only allow traffic
to the nodes and ports that need it.</p></blockquote><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">openstack security group create rke1 --project rke1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">openstack security group rule create --protocol icmp --dst-port </span><span class="token number" style="color:#36acaa">1</span><span class="token plain">:65535 rke1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">openstack security group rule create --protocol tcp --dst-port </span><span class="token number" style="color:#36acaa">22</span><span class="token plain">:22 rke1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">openstack security group rule create --protocol tcp --dst-port </span><span class="token number" style="color:#36acaa">53</span><span class="token plain">:53 rke1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">openstack security group rule create --protocol tcp --dst-port </span><span class="token number" style="color:#36acaa">179</span><span class="token plain">:179 rke1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">openstack security group rule create --protocol tcp --dst-port </span><span class="token number" style="color:#36acaa">6443</span><span class="token plain">:6443 rke1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">openstack security group rule create --protocol tcp --dst-port </span><span class="token number" style="color:#36acaa">2380</span><span class="token plain">:2380 rke1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">openstack security group rule create --protocol tcp --dst-port </span><span class="token number" style="color:#36acaa">7080</span><span class="token plain">:7080 rke1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">openstack security group rule create --protocol tcp --dst-port </span><span class="token number" style="color:#36acaa">8472</span><span class="token plain">:8472 rke1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">openstack security group rule create --protocol tcp --dst-port </span><span class="token number" style="color:#36acaa">8080</span><span class="token plain">:8080 rke1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">openstack security group rule create --protocol tcp --dst-port </span><span class="token number" style="color:#36acaa">9100</span><span class="token plain">:9100 rke1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">openstack security group rule create --protocol tcp --dst-port </span><span class="token number" style="color:#36acaa">10250</span><span class="token plain">:10250 rke1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">openstack security group rule create --protocol udp --dst-port </span><span class="token number" style="color:#36acaa">8472</span><span class="token plain">:8472 rke1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">openstack security group rule create --protocol tcp --dst-port </span><span class="token number" style="color:#36acaa">30000</span><span class="token plain">:32767 rke1</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="create-a-key-pair">Create a Key Pair<a class="hash-link" href="#create-a-key-pair" title="Direct link to heading">​</a></h3><p>This key will be used by the deployment environment to access the nodes.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="generate-a-key-pair">Generate a key pair<a class="hash-link" href="#generate-a-key-pair" title="Direct link to heading">​</a></h4><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">ssh-keygen -t ed25519 -N </span><span class="token string" style="color:#e3116c">&#x27;&#x27;</span><span class="token plain"> -f /root/.ssh/id_rke1</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="upload-the-public-key-to-openstack">Upload the public key to OpenStack<a class="hash-link" href="#upload-the-public-key-to-openstack" title="Direct link to heading">​</a></h4><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">openstack keypair create --public-key /root/.ssh/id_rke1.pub rke1-key</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="create-instances">Create Instances<a class="hash-link" href="#create-instances" title="Direct link to heading">​</a></h3><h4 class="anchor anchorWithStickyNavbar_LWe7" id="prepare-docker-installation-script">Prepare Docker installation script<a class="hash-link" href="#prepare-docker-installation-script" title="Direct link to heading">​</a></h4><p>Each of your nodes will need docker installed on them. This script will install
any dependencies after the VM is created.</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">cat</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&lt;&lt;</span><span class="token string" style="color:#e3116c">EOF</span><span class="token string bash punctuation" style="color:#393A34"> </span><span class="token string bash punctuation operator" style="color:#393A34">&gt;</span><span class="token string bash punctuation" style="color:#393A34"> ./install_docker.sh</span><span class="token string" style="color:#e3116c"></span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">#!/bin/bash</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="display:inline-block;color:#e3116c"></span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">curl https://releases.rancher.com/install-docker/20.10.sh | sh</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">sudo usermod -aG docker ubuntu</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">EOF</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="create-servers">Create Servers<a class="hash-link" href="#create-servers" title="Direct link to heading">​</a></h4><p>These nodes will serve as your 3 Kubernetes cluster nodes. We&#x27;ll use the
<code>--user-data</code> flag to pass the script we created above to the nodes. This will
install docker on the nodes. We&#x27;ll also use the <code>--max</code> flag to create 3 nodes
at once.</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">openstack server create --flavor m1.medium </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --image</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;Ubuntu 20.04 (focal-amd64)&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --network rke1 </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --key-name rke1-key </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --security-group rke1 </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --user-data ./install_docker.sh </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --max </span><span class="token number" style="color:#36acaa">3</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  rke1</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="deployment-node">Deployment node<a class="hash-link" href="#deployment-node" title="Direct link to heading">​</a></h4><p>We&#x27;ll also deploy a node that we&#x27;ll use to deploy our cluster. This node will
be used to run the RKE installer. It&#x27;s not required, but it&#x27;s a good idea to
keep the deployment environment separate from the cluster. This will allow you
to easily destroy the deployment environment without affecting your cluster.</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">openstack server create --flavor m1.medium </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --image</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;Ubuntu 20.04 (focal-amd64)&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --network rke1 </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --key-name rke1-key </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --security-group rke1 </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  rke1-launcher2</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="add-a-floating-ip-to-the-deployment-node">Add a floating IP to the deployment node<a class="hash-link" href="#add-a-floating-ip-to-the-deployment-node" title="Direct link to heading">​</a></h4><p>At this point, you should have 4 nodes running. Each node is currently only
accessible from the private network. We&#x27;ll need to add a floating IP to the
deployment node so we can access it.</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">openstack floating </span><span class="token function" style="color:#d73a49">ip</span><span class="token plain"> create </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --description </span><span class="token string" style="color:#e3116c">&quot;RKE1 Cluster - Deployment Node&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --project rke1 </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  External</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">openstack server </span><span class="token function" style="color:#d73a49">add</span><span class="token plain"> floating </span><span class="token function" style="color:#d73a49">ip</span><span class="token plain"> rke1-launcher2 </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">floating-ip</span><span class="token operator" style="color:#393A34">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><blockquote><p>Note: You&#x27;ll need to replace <code>&lt;floating-ip&gt;</code> with the floating IP you created
for this and the following commands.</p></blockquote><h4 class="anchor anchorWithStickyNavbar_LWe7" id="copy-the-ssh-key-to-deployment-node">Copy the SSH key to deployment node<a class="hash-link" href="#copy-the-ssh-key-to-deployment-node" title="Direct link to heading">​</a></h4><p>We&#x27;ll need to copy the SSH key we created earlier to the deployment node. This
will allow RKE to deploy Kubernetes to the 3 cluster nodes.</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">scp</span><span class="token plain"> -i ~/.ssh/id_rke1  ~/.ssh/id_rke1 ubuntu@</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">floating-ip</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain">:/home/ubuntu/.ssh/id_rsa</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="ssh-to-deployment-node">SSH to deployment node<a class="hash-link" href="#ssh-to-deployment-node" title="Direct link to heading">​</a></h4><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">ssh</span><span class="token plain"> -i ~/.ssh/id_rke1 ubuntu@</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">floating-ip</span><span class="token operator" style="color:#393A34">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="deploy-your-cluster">Deploy Your Cluster<a class="hash-link" href="#deploy-your-cluster" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="install-rke">Install RKE<a class="hash-link" href="#install-rke" title="Direct link to heading">​</a></h3><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">curl</span><span class="token plain"> -OL https://github.com/rancher/rke/releases/download/v1.3.14/rke_linux-amd64</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">chmod</span><span class="token plain"> +x rke_linux-amd64 </span><span class="token operator" style="color:#393A34">&amp;&amp;</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">sudo</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">mv</span><span class="token plain"> rke_linux-amd64 /usr/local/bin/rke</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="install-kubectl">Install Kubectl<a class="hash-link" href="#install-kubectl" title="Direct link to heading">​</a></h3><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">curl</span><span class="token plain"> -LO </span><span class="token string" style="color:#e3116c">&quot;https://dl.k8s.io/release/</span><span class="token string variable" style="color:#36acaa">$(</span><span class="token string variable function" style="color:#d73a49">curl</span><span class="token string variable" style="color:#36acaa"> -L -s https://dl.k8s.io/release/stable.txt</span><span class="token string variable" style="color:#36acaa">)</span><span class="token string" style="color:#e3116c">/bin/linux/amd64/kubectl&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">sudo</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">install</span><span class="token plain"> -o root -g root -m 0755 kubectl /usr/local/bin/kubectl</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="prepare-your-configuration-file">Prepare your configuration file<a class="hash-link" href="#prepare-your-configuration-file" title="Direct link to heading">​</a></h3><p>Create a configuration file for your RKE cluster. Substitute the <code>address</code>
with the IP addresses of the nodes you created. Save this file as <code>rancher-cluster.yml</code></p><p>Full documentation for the configuration file can be found here:
<a href="https://rancher.com/docs/rke/latest/en/config-options/" target="_blank" rel="noopener noreferrer">Configuration Options</a></p><p>Example Configuration file:
<a href="https://rancher.com/docs/rke/latest/en/example-yamls/" target="_blank" rel="noopener noreferrer">Example Configuration</a></p><p>You can view the IP addresses of your nodes by running:</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">openstack server list --project rke1</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="configuration-file">Configuration File<a class="hash-link" href="#configuration-file" title="Direct link to heading">​</a></h4><div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">nodes</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">address</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> &lt;node_1_IP_address</span><span class="token punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">user</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> ubuntu</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">role</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> controlplane</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> worker</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> etcd</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">address</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> &lt;node_2_IP_address</span><span class="token punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">user</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> ubuntu</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">role</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> controlplane</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> worker</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> etcd</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">address</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> &lt;node_3_IP_address</span><span class="token punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">user</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> ubuntu</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">role</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> controlplane</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> worker</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> etcd</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">services</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">etcd</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">snapshot</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean important" style="color:#36acaa">true</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">creation</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> 6h</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">retention</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> 24h</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">ingress</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">provider</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> nginx</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">options</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">use-forwarded-headers</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;true&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="run-rke">Run RKE<a class="hash-link" href="#run-rke" title="Direct link to heading">​</a></h3><p>This process takes about 2 minutes. After it completes, you should have a
working Kubernetes cluster.</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">rke up --config rancher-cluster.yml</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Output:</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">..</span><span class="token plain">.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">INFO</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">0171</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">ingress</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> Setting up nginx ingress controller</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">INFO</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">0171</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">ingress</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> removing admission batch </span><span class="token function" style="color:#d73a49">jobs</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> they exist</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">INFO</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">0171</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">addons</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> Saving ConfigMap </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> addon rke-ingress-controller to Kubernetes</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">INFO</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">0171</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">addons</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> Successfully saved ConfigMap </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> addon rke-ingress-controller to Kubernetes</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">INFO</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">0171</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">addons</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> Executing deploy job rke-ingress-controller</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">INFO</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">0181</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">ingress</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> removing default backend </span><span class="token function" style="color:#d73a49">service</span><span class="token plain"> and deployment </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> they exist</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">INFO</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">0181</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">ingress</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> ingress controller nginx deployed successfully</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">INFO</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">0181</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">addons</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> Setting up user addons</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">INFO</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">0181</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">addons</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> no user addons defined</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">INFO</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">0181</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> Finished building Kubernetes cluster successfully</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="verify-installation">Verify Installation<a class="hash-link" href="#verify-installation" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="set-config-as-default">Set config as default<a class="hash-link" href="#set-config-as-default" title="Direct link to heading">​</a></h3><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">mkdir</span><span class="token plain"> ~/.kube </span><span class="token operator" style="color:#393A34">&amp;&amp;</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">cp</span><span class="token plain"> kube_config_rancher-cluster.yml ~/.kube/config</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="fetch-resources">Fetch resources<a class="hash-link" href="#fetch-resources" title="Direct link to heading">​</a></h3><p>Get pods in all namespaces.</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">kubectl get pods -A</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Output:</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">ubuntu@rke1-launcher:~/rancher$ kubectl get pods -A</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">NAMESPACE       NAME                                       READY   STATUS      RESTARTS   AGE</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ingress-nginx   ingress-nginx-admission-create-9s6t2       </span><span class="token number" style="color:#36acaa">0</span><span class="token plain">/1     Completed   </span><span class="token number" style="color:#36acaa">0</span><span class="token plain">          3m55s</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ingress-nginx   ingress-nginx-admission-patch-2brpz        </span><span class="token number" style="color:#36acaa">0</span><span class="token plain">/1     Completed   </span><span class="token number" style="color:#36acaa">0</span><span class="token plain">          3m55s</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ingress-nginx   nginx-ingress-controller-j286h             </span><span class="token number" style="color:#36acaa">1</span><span class="token plain">/1     Running     </span><span class="token number" style="color:#36acaa">0</span><span class="token plain">          3m55s</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ingress-nginx   nginx-ingress-controller-nm5m7             </span><span class="token number" style="color:#36acaa">1</span><span class="token plain">/1     Running     </span><span class="token number" style="color:#36acaa">0</span><span class="token plain">          3m55s</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ingress-nginx   nginx-ingress-controller-x65pp             </span><span class="token number" style="color:#36acaa">1</span><span class="token plain">/1     Running     </span><span class="token number" style="color:#36acaa">0</span><span class="token plain">          3m55s</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">kube-system     calico-kube-controllers-74df54cbb7-49xm7   </span><span class="token number" style="color:#36acaa">1</span><span class="token plain">/1     Running     </span><span class="token number" style="color:#36acaa">0</span><span class="token plain">          4m25s</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">kube-system     canal-jkzvb                                </span><span class="token number" style="color:#36acaa">2</span><span class="token plain">/2     Running     </span><span class="token number" style="color:#36acaa">0</span><span class="token plain">          4m26s</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">kube-system     canal-mz67r                                </span><span class="token number" style="color:#36acaa">2</span><span class="token plain">/2     Running</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">..</span><span class="token plain">.</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="credentials">Credentials<a class="hash-link" href="#credentials" title="Direct link to heading">​</a></h3><p>Save a copy of the following files in a secure location:</p><ul><li><code>rancher-cluster.yml</code>: The RKE cluster configuration file.</li><li><code>kube_config_cluster.yml</code>: The Kubeconfig file for the cluster, this file
contains credentials for full access to the cluster.</li><li><code>rancher-cluster.rkestate</code>: The Kubernetes Cluster State file, this file
contains credentials for full access to the cluster.</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="whats-next">What&#x27;s Next?<a class="hash-link" href="#whats-next" title="Direct link to heading">​</a></h2><p>You&#x27;ve now deployed a Kubernetes cluster using RKE1. You can now deploy
workloads to the cluster. However, likely want to deploy an OpenStack load
balancer and persistent volumes as well.</p><p>To do this, you&#x27;ll need to setup OpenStack Cloud Provider resources. We&#x27;re in the
process of creating guides on how to do this.</p><ul><li><a href="/docs/manuals/kubernetes-guides/installing-the-kubernetes-openstack-cloud-controller-manager">OpenStack Cloud Controller Manager</a></li><li><a href="/docs/manuals/kubernetes-guides/configuring-openstack-cinder-with-kubernetes">Cinder CSI Driver</a></li><li>Barbican KMS Plugin - <em>Coming soon</em></li></ul><p>You can find more information on the OpenStack Cloud Provider resources here:
<a href="https://github.com/Kubernetes/cloud-provider-openstack" target="_blank" rel="noopener noreferrer">OpenStack Cloud Provider</a>.</p></div><div style="margin-top:2rem" id="disqus_thread"></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/openmetalio/openmetal-docs/blob/main/docs/kubernetes-guides/deployment/rancher.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/manuals/kubernetes-guides/installing-an-openshift-cluster-on-openstack"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Installing an OpenShift cluster on OpenStack</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/manuals/kubernetes-guides/deploying-a-kubespray-cluster-to-openstack-using-terraform"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Deploying a Kubespray cluster to OpenStack using Terraform</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#prerequisites" class="table-of-contents__link toc-highlight">Prerequisites</a></li><li><a href="#create-nodes" class="table-of-contents__link toc-highlight">Create Nodes</a><ul><li><a href="#create-a-project" class="table-of-contents__link toc-highlight">Create a Project</a></li><li><a href="#network" class="table-of-contents__link toc-highlight">Network</a></li><li><a href="#create-a-security-group" class="table-of-contents__link toc-highlight">Create a Security Group</a></li><li><a href="#create-a-key-pair" class="table-of-contents__link toc-highlight">Create a Key Pair</a></li><li><a href="#create-instances" class="table-of-contents__link toc-highlight">Create Instances</a></li></ul></li><li><a href="#deploy-your-cluster" class="table-of-contents__link toc-highlight">Deploy Your Cluster</a><ul><li><a href="#install-rke" class="table-of-contents__link toc-highlight">Install RKE</a></li><li><a href="#install-kubectl" class="table-of-contents__link toc-highlight">Install Kubectl</a></li><li><a href="#prepare-your-configuration-file" class="table-of-contents__link toc-highlight">Prepare your configuration file</a></li><li><a href="#run-rke" class="table-of-contents__link toc-highlight">Run RKE</a></li></ul></li><li><a href="#verify-installation" class="table-of-contents__link toc-highlight">Verify Installation</a><ul><li><a href="#set-config-as-default" class="table-of-contents__link toc-highlight">Set config as default</a></li><li><a href="#fetch-resources" class="table-of-contents__link toc-highlight">Fetch resources</a></li><li><a href="#credentials" class="table-of-contents__link toc-highlight">Credentials</a></li></ul></li><li><a href="#whats-next" class="table-of-contents__link toc-highlight">What&#39;s Next?</a></li></ul></div></div></div></div></main></div></div><footer class="omi-footer footer"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Products</div><ul class="footer__items"><li class="footer__item"><a href="https://openmetal.io/products/private-cloud/hosted/" target="_self" rel="noopener noreferrer" class="footer__link-item"><span>On-Demand Private Cloud</span></a></li><li class="footer__item"><a href="https://openmetal.io/products/large-iaas-deployments/" target="_self" rel="noopener noreferrer" class="footer__link-item"><span>Large Deployments</span></a></li><li class="footer__item"><a href="https://openmetal.io/products/private-pods/" target="_self" rel="noopener noreferrer" class="footer__link-item"><span>Private Pods</span></a></li></ul></div><div class="col footer__col"><div class="footer__title">Solutions</div><ul class="footer__items"><li class="footer__item"><a href="https://openmetal.io/solutions/saas/" target="_self" rel="noopener noreferrer" class="footer__link-item"><span>SaaS Cloud</span></a></li><li class="footer__item"><a href="https://openmetal.io/solutions/it-modernization/" target="_self" rel="noopener noreferrer" class="footer__link-item"><span>IT Modernization</span></a></li><li class="footer__item"><a href="https://openmetal.io/solutions/openstack-public-cloud-providers/" target="_self" rel="noopener noreferrer" class="footer__link-item"><span>Public Cloud Providers</span></a></li><li class="footer__item"><a href="https://openmetal.io/solutions/on-demand-openstack-cloud/" target="_self" rel="noopener noreferrer" class="footer__link-item"><span>On-Demand OpenStack</span></a></li></ul></div><div class="col footer__col"><div class="footer__title">Platform</div><ul class="footer__items"><li class="footer__item"><a href="https://openmetal.io/platform/openstack-services/" target="_self" rel="noopener noreferrer" class="footer__link-item"><span>OpenStack Services</span></a></li><li class="footer__item"><a href="https://openmetal.io/platform/features/" target="_self" rel="noopener noreferrer" class="footer__link-item"><span>Features and Components</span></a></li><li class="footer__item"><a href="https://openmetal.io/platform/locations/" target="_self" rel="noopener noreferrer" class="footer__link-item"><span>Global Locations</span></a></li></ul></div><div class="col footer__col"><div class="footer__title">Pricing</div><ul class="footer__items"><li class="footer__item"><a href="https://openmetal.io/pricing/" target="_self" rel="noopener noreferrer" class="footer__link-item"><span>On-Demand Pricing</span></a></li><li class="footer__item"><a href="https://openmetal.io/resources/sales-faq/" target="_self" rel="noopener noreferrer" class="footer__link-item"><span>General Sales FAQ</span></a></li><li class="footer__item"><a href="https://openmetal.io/free-trial/" target="_self" rel="noopener noreferrer" class="footer__link-item"><span>Free Trial</span></a></li><li class="footer__item"><a href="https://openmetal.io/schedule-meeting/" target="_self" rel="noopener noreferrer" class="footer__link-item"><span>Schedule a Meeting</span></a></li></ul></div><div class="col footer__col"><div class="footer__title">Resources</div><ul class="footer__items"><li class="footer__item"><a href="https://openmetal.io/blog/" target="_self" rel="noopener noreferrer" class="footer__link-item"><span>OpenMetal Blog</span></a></li><li class="footer__item"><a href="https://openmetal.io/resources/cloud-industry-events/" target="_self" rel="noopener noreferrer" class="footer__link-item"><span>Cloud Industry Events</span></a></li><li class="footer__item"><a href="https://openmetal.io/resources/sales-faq/" target="_self" rel="noopener noreferrer" class="footer__link-item"><span>Sales FAQ</span></a></li><li class="footer__item"><a href="https://central.openmetal.io/auth/sign-in" target="_self" rel="noopener noreferrer" class="footer__link-item"><span>Login to OpenMetal Central</span></a></li></ul></div><div class="col footer__col"><div class="footer__title">Documentation</div><ul class="footer__items"><li class="footer__item"><a href="https://openmetal.io/docs/" target="_self" rel="noopener noreferrer" class="footer__link-item"><span>Documentation Home</span></a></li><li class="footer__item"><a href="https://openmetal.io/docs/manuals/operators-manual" target="_self" rel="noopener noreferrer" class="footer__link-item"><span>OpenStack Operator’s Manual</span></a></li><li class="footer__item"><a href="https://openmetal.io/docs/manuals/users-manual" target="_self" rel="noopener noreferrer" class="footer__link-item"><span>OpenStack User’s Manual</span></a></li><li class="footer__item"><a href="https://openmetal.io/docs/product-guides/private-cloud/" target="_self" rel="noopener noreferrer" class="footer__link-item"><span>Private Cloud Users</span></a></li><li class="footer__item"><a href="https://openmetal.io/docs/manuals/kubernetes-guides" target="_self" rel="noopener noreferrer" class="footer__link-item"><span>Kubernetes</span></a></li><li class="footer__item"><a href="https://openmetal.io/docs/releases/" target="_self" rel="noopener noreferrer" class="footer__link-item"><span>Product Release Updates</span></a></li></ul></div><div class="col footer__col"><div class="footer__title">Company</div><ul class="footer__items"><li class="footer__item"><a href="https://openmetal.io/company/" target="_self" rel="noopener noreferrer" class="footer__link-item"><span>About OpenMetal</span></a></li><li class="footer__item"><a href="https://openmetal.io/company/guiding-principles/" target="_self" rel="noopener noreferrer" class="footer__link-item"><span>Core Guiding Principles</span></a></li><li class="footer__item"><a href="https://openmetal.io/company/contact-us/" target="_self" rel="noopener noreferrer" class="footer__link-item"><span>Contact Us</span></a></li></ul></div><div class="col footer__col"><div class="footer__title">Legal</div><ul class="footer__items"><li class="footer__item"><a href="https://openmetal.io/company/legal/" target="_self" rel="noopener noreferrer" class="footer__link-item"><span>Terms of Service</span></a></li><li class="footer__item"><a href="https://openmetal.io/company/legal/privacy-policy/" target="_self" rel="noopener noreferrer" class="footer__link-item"><span>Privacy Policy</span></a></li><li class="footer__item"><a href="https://openmetal.io/company/legal/donotsellmypersonaldata/" target="_self" rel="noopener noreferrer" class="footer__link-item"><span>Do Not Sell My Personal Data</span></a></li><li class="footer__item"><a href="https://openmetal.io/company/legal/accessibility-statement/" target="_self" rel="noopener noreferrer" class="footer__link-item"><span>Accessibility Statement</span></a></li><li class="footer__item"><a href="https://openmetal.io/company/legal/legal-inquiries/" target="_self" rel="noopener noreferrer" class="footer__link-item"><span>Legal Inquiries and DMCA</span></a></li></ul></div></div><div class="footer__bottom text--center"><div class="margin-bottom--sm"><img src="https://inmotionhosting.github.io/static-assets/logo/open-metal/medium.png" alt="Openmetal Logo" class="themedImage_ToTc themedImage--light_HNdA footer__logo" width="160px"><img src="https://inmotionhosting.github.io/static-assets/logo/open-metal/medium.png" alt="Openmetal Logo" class="themedImage_ToTc themedImage--dark_i4oU footer__logo" width="160px"></div><div class="footer__copyright"><strong>2023 © OpenMetal.  All rights reserved.</strong></div></div><div class="footerContact_WzGC"><p>555 S. Independence Blvd, Virginia Beach, VA 23452</p><div class="contactLinks_Ri0r"><a href="tel:+18777289664">877-7-BUY-OMI</a><a href="mailto:sales@openmetal.io">sales@openmetal.io</a><a href="https://openmetal.io/schedule-meeting/">Schedule a Demo</a></div><p><strong>OpenMetal Central:</strong> <a target="_blank" href="https://central.openmetal.io/auth/sign-in">Login</a> or <a target="_blank" href="https://central.openmetal.io/sign-up">Create New Account</a></p></div></div></footer></div>
<script src="/docs/manuals/assets/js/runtime~main.6c8c92e1.js"></script>
<script src="/docs/manuals/assets/js/main.90284c5e.js"></script>
</body>
</html>